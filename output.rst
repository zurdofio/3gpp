.. container:: WordSection1

   .. container::

      +-----------------------------------------------------------------------+
      | .. container::                                                        |
      |                                                                       |
      |    3GPP TS 29.520 V16.12.0 (2022-06)                                  |
      +-----------------------------------------------------------------------+

   .. container::

      +-------------------------+
      | Technical Specification |
      +-------------------------+

   .. container::

      +-----------------------------------------------------------------------+
      | 3rd Generation Partnership Project;                                   |
      |                                                                       |
      | Technical Specification Group Core Network and Terminals;             |
      |                                                                       |
      | 5G System; Network Data Analytics Services;                           |
      |                                                                       |
      | Stage 3                                                               |
      |                                                                       |
      | (Release 16)                                                          |
      +-----------------------------------------------------------------------+

   .. container::

      +-----------------------------------------------------------------------+
      | .. container::                                                        |
      |                                                                       |
      |    5G-logo\                                                           |
      |                                                                       |
      |    3GPP-logo_web                                                      |
      |                                                                       |
      |                                                                       |
      +-----------------------------------------------------------------------+

   .. container::

      +-----------------------------------------------------------------------+
      | The present document has been developed within the 3\ rd Generation   |
      | Partnership Project (3GPP TM) and may be further elaborated for the   |
      | purposes of 3GPP.                                                     |
      | The present document has not been subject to any approval process by  |
      | the 3GPP Organizational Partners and shall not be implemented.        |
      | This Specification is provided for future development work within     |
      | 3GPP only. The Organizational Partners accept no liability for any    |
      | use of this Specification.                                            |
      | Specifications and Reports for implementation of the 3GPP TM system   |
      | should be obtained via the 3GPP Organizational Partners' Publications |
      | Offices.                                                              |
      +-----------------------------------------------------------------------+

   .. container::

      +-----------------------------------------------------------------------+
      | .. container::                                                        |
      |                                                                       |
      |                                                                       |
      +-----------------------------------------------------------------------+

    

.. container:: WordSection2

   .. container::

      +-----------------------------------------------------------------------+
      | .. container::                                                        |
      |                                                                       |
      |    Keywords                                                           |
      |                                                                       |
      |                                                                       |
      +-----------------------------------------------------------------------+

    

    

   .. container::

      +-----------------------------------------------------------------------+
      | 3GPP                                                                  |
      |                                                                       |
      | .. container::                                                        |
      |                                                                       |
      |    Postal address                                                     |
      |                                                                       |
      |                                                                       |
      |                                                                       |
      | .. container::                                                        |
      |                                                                       |
      |    3GPP support office address                                        |
      |                                                                       |
      | 650 Route des Lucioles - Sophia Antipolis                             |
      |                                                                       |
      | Valbonne - FRANCE                                                     |
      |                                                                       |
      | Tel.: +33 4 92 94 42 00 Fax: +33 4 93 65 47 16                        |
      |                                                                       |
      | .. container::                                                        |
      |                                                                       |
      |    Internet                                                           |
      |                                                                       |
      | http://www.3gpp.org                                                   |
      +-----------------------------------------------------------------------+

    

   .. container::

      +-----------------------------------------------------------------------+
      | .. container::                                                        |
      |                                                                       |
      |    Copyright Notification                                             |
      |                                                                       |
      | No part may be reproduced except as authorized by written permission. |
      | The copyright and the foregoing restriction extend to reproduction in |
      | all media.                                                            |
      |                                                                       |
      |                                                                       |
      |                                                                       |
      | © 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI,  |
      | TTA, TTC).                                                            |
      |                                                                       |
      | All rights reserved.                                                  |
      |                                                                       |
      |                                                                       |
      |                                                                       |
      | UMTS™ is a Trade Mark of ETSI registered for the benefit of its       |
      | members                                                               |
      |                                                                       |
      | 3GPP™ is a Trade Mark of ETSI registered for the benefit of its       |
      | Members and of the 3GPP Organizational Partners                       |
      | LTE™ is a Trade Mark of ETSI registered for the benefit of its        |
      | Members and of the 3GPP Organizational Partners                       |
      |                                                                       |
      | GSM® and the GSM logo are registered and owned by the GSM Association |
      +-----------------------------------------------------------------------+

   .. container::

      Contents

   Contents.................................................................................................................................................
   3

   Foreword...............................................................................................................................................
   6

   1..........
   Scope...........................................................................................................................................
   7

   2..........
   References....................................................................................................................................
   7

   3.......... Definitions and
   abbreviations.........................................................................................................
   8

   3.1..............
   Definitions.................................................................................................................................
   8

   3.2..............
   Abbreviations.............................................................................................................................
   8

   4.......... Services offered by the
   NWDAF....................................................................................................
   9

   4.1..............
   Introduction...............................................................................................................................
   9

   4.2.............. Nnwdaf_EventsSubscription
   Service..............................................................................................
   9

   4.2.1................. Service
   Description.................................................................................................................
   9

   4.2.1.1....................
   Overview.........................................................................................................................
   9

   4.2.1.2.................... Service
   Architecture.........................................................................................................
   10

   4.2.1.3.................... Network
   Functions...........................................................................................................
   11

   4.2.1.3.1....................... Network Data Analytics Function
   (NWDAF)....................................................................
   11

   4.2.1.3.2....................... NF Service
   Consumers.................................................................................................
   11

   4.2.2................. Service
   Operations................................................................................................................
   13

   4.2.2.1....................
   Introduction....................................................................................................................
   13

   4.2.2.2.................... Nnwdaf_EventsSubscription_Subscribe
   service
   operation........................................................ 13

   4.2.2.2.1.......................
   General.....................................................................................................................
   13

   4.2.2.2.2....................... Subscription for event
   notifications.................................................................................
   13

   4.2.2.2.3....................... Update subscription for event
   notifications.......................................................................
   17

   4.2.2.3.................... Nnwdaf_EventsSubscription_Unsubscribe
   service operation....................................................
   18

   4.2.2.3.1.......................
   General.....................................................................................................................
   18

   4.2.2.3.2....................... Unsubscribe from event
   notifications..............................................................................
   19

   4.2.2.4.................... Nnwdaf_EventsSubscription_Notify service
   operation............................................................
   19

   4.2.2.4.1.......................
   General.....................................................................................................................
   19

   4.2.2.4.2....................... Notification about subscribed
   event................................................................................
   19

   4.3.............. Nnwdaf_AnalyticsInfo
   Service....................................................................................................
   21

   4.3.1................. Service
   Description...............................................................................................................
   21

   4.3.1.1....................
   Overview........................................................................................................................
   21

   4.3.1.2.................... Service
   Architecture.........................................................................................................
   21

   4.3.1.3.................... Network
   Functions...........................................................................................................
   22

   4.3.1.3.1....................... Network Data Analytics Function
   (NWDAF)....................................................................
   22

   4.3.1.3.2....................... NF Service
   Consumers.................................................................................................
   22

   4.3.2................. Service
   Operations................................................................................................................
   24

   4.3.2.1....................
   Introduction....................................................................................................................
   24

   4.3.2.2.................... Nnwdaf_AnalyticsInfo_Request service
   operation..................................................................
   24

   4.3.2.2.1.......................
   General.....................................................................................................................
   24

   4.3.2.2.2....................... Request and get from NWDAF Analytics
   information........................................................
   24

   5.......... API
   Definitions...........................................................................................................................
   27

   5.1.............. Nnwdaf_EventsSubscription Service
   API.......................................................................................
   27

   5.1.1.................
   Introduction.........................................................................................................................
   27

   5.1.2................. Usage of
   HTTP....................................................................................................................
   28

   5.1.2.1....................
   General..........................................................................................................................
   28

   5.1.2.2.................... HTTP standard
   headers.....................................................................................................
   28

   5.1.2.2.1.......................
   General.....................................................................................................................
   28

   5.1.2.2.2....................... Content
   type...............................................................................................................
   28

   5.1.2.3.................... HTTP custom
   headers.......................................................................................................
   28

   5.1.3.................
   Resources............................................................................................................................
   29

   5.1.3.1.................... Resource
   Structure...........................................................................................................
   29

   5.1.3.2.................... Resource: NWDAF Events
   Subscriptions.............................................................................
   29

   5.1.3.2.1.......................
   Description................................................................................................................
   29

   5.1.3.2.2....................... Resource
   definition......................................................................................................
   29

   5.1.3.2.3....................... Resource Standard
   Methods..........................................................................................
   30

   5.1.3.2.3.1..........................
   POST...................................................................................................................
   30

   5.1.3.2.4....................... Resource Custom
   Operations.........................................................................................
   30

   5.1.3.3.................... Resource: Individual NWDAF Event
   Subscription.................................................................
   30

   5.1.3.3.1.......................
   Description................................................................................................................
   30

   5.1.3.3.2....................... Resource
   definition......................................................................................................
   30

   5.1.3.3.3....................... Resource Standard
   Methods..........................................................................................
   31

   5.1.3.3.3.1..........................
   DELETE...............................................................................................................
   31

   5.1.3.3.3.2..........................
   PUT.....................................................................................................................
   32

   5.1.3.3.4....................... Resource Custom
   Operations.........................................................................................
   33

   5.1.4................. Custom Operations without associated
   resources........................................................................
   33

   5.1.5.................
   Notifications........................................................................................................................
   33

   5.1.5.1....................
   General..........................................................................................................................
   33

   5.1.5.2.................... Event
   Notification............................................................................................................
   33

   5.1.5.2.1.......................
   Description................................................................................................................
   33

   5.1.5.2.2....................... Operation
   Definition....................................................................................................
   33

   5.1.6................. Data
   Model.........................................................................................................................
   34

   5.1.6.1....................
   General..........................................................................................................................
   34

   5.1.6.2.................... Structured data
   types........................................................................................................
   38

   5.1.6.2.1.......................
   Introduction...............................................................................................................
   38

   5.1.6.2.2....................... Type
   NnwdafEventsSubscription....................................................................................
   39

   5.1.6.2.3....................... Type
   EventSubscription................................................................................................
   40

   5.1.6.2.4....................... Type
   NnwdafEventsSubscriptionNotification...................................................................
   42

   5.1.6.2.5....................... Type
   EventNotification................................................................................................
   43

   5.1.6.2.6....................... Type
   SliceLoadLevelInformation...................................................................................
   44

   5.1.6.2.7....................... Type
   EventReportingRequirement..................................................................................
   44

   5.1.6.2.8....................... Type
   TargetUeInformation............................................................................................
   45

   5.1.6.2.9.......................
   Void.........................................................................................................................
   45

   5.1.6.2.10.................... Type
   UeMobility.........................................................................................................
   45

   5.1.6.2.11.................... Type
   LocationInfo.......................................................................................................
   46

   5.1.6.2.12....................
   Void.........................................................................................................................
   47

   5.1.6.2.13.................... Type
   UeCommunication...............................................................................................
   47

   5.1.6.2.14.................... Type
   TrafficCharacterization.........................................................................................
   48

   5.1.6.2.15.................... Type
   AbnormalBehaviour.............................................................................................
   49

   5.1.6.2.16.................... Type
   Exception...........................................................................................................
   49

   5.1.6.2.17.................... Type
   UserDataCongestionInfo.......................................................................................
   50

   5.1.6.2.18.................... Type
   CongestionInfo....................................................................................................
   50

   5.1.6.2.19.................... Type
   QosSustainabilityInfo...........................................................................................
   51

   5.1.6.2.20.................... Type
   QosRequirement..................................................................................................
   52

   5.1.6.2.21.................... Type
   RetainabilityThreshold..........................................................................................
   52

   5.1.6.2.22.................... Type
   NetworkPerfRequirement......................................................................................
   52

   5.1.6.2.23.................... Type
   NetworkPerfInfo..................................................................................................
   53

   5.1.6.2.24.................... Type
   ServiceExperienceInfo..........................................................................................
   54

   5.1.6.2.25.................... Type
   BwRequirement..................................................................................................
   55

   5.1.6.2.26.................... Type
   AdditionalMeasurement........................................................................................
   55

   5.1.6.2.27.................... Type
   IpEthFlowDescription..........................................................................................
   56

   5.1.6.2.28.................... Type
   AddressList........................................................................................................
   56

   5.1.6.2.29.................... Type
   CircumstanceDescription......................................................................................
   56

   5.1.6.2.30.................... Type
   ThresholdLevel...................................................................................................
   57

   5.1.6.2.31.................... Type
   NfLoadLevelInformation......................................................................................
   57

   5.1.6.2.32.................... Type
   NfStatus.............................................................................................................
   58

   5.1.6.2.33.................... Type
   NsiIdInfo...........................................................................................................
   58

   5.1.6.2.34.................... Type
   NsiLoadLevelInfo................................................................................................
   58

   5.1.6.2.35.................... Type
   FailureEventInfo.................................................................................................
   59

   5.1.6.3.................... Simple data types and
   enumerations....................................................................................
   59

   5.1.6.3.1.......................
   Introduction...............................................................................................................
   59

   5.1.6.3.2....................... Simple data
   types........................................................................................................
   59

   5.1.6.3.3....................... Enumeration:
   NotificationMethod..................................................................................
   59

   5.1.6.3.4....................... Enumeration:
   NwdafEvent............................................................................................
   60

   5.1.6.3.5....................... Enumeration:
   Accuracy................................................................................................
   60

   5.1.6.3.6....................... Enumeration:
   ExceptionId.............................................................................................
   60

   5.1.6.3.7....................... Enumeration:
   ExceptionTrend.......................................................................................
   61

   5.1.6.3.8....................... Enumeration:
   CongestionType.......................................................................................
   61

   5.1.6.3.9....................... Enumeration:
   TimeUnit................................................................................................
   61

   5.1.6.3.10.................... Enumeration:
   NetworkPerfType.....................................................................................
   61

   5.1.6.3.11.................... Enumeration:
   ExpectedAnalyticsType.............................................................................
   62

   5.1.6.3.12.................... Enumeration:
   MatchingDirection....................................................................................
   62

   5.1.6.3.13.................... Enumeration:
   NwdafFailureCode...................................................................................
   62

   5.1.7................. Error
   handling......................................................................................................................
   62

   5.1.7.1....................
   General..........................................................................................................................
   62

   5.1.7.2.................... Protocol
   Errors................................................................................................................
   62

   5.1.7.3.................... Application
   Errors............................................................................................................
   63

   5.1.8................. Feature
   negotiation...............................................................................................................
   63

   5.1.9.................
   Security..............................................................................................................................
   63

   5.2.............. Nnwdaf_AnalyticsInfo Service
   API..............................................................................................
   64

   5.2.1.................
   Introduction.........................................................................................................................
   64

   5.2.2................. Usage of
   HTTP....................................................................................................................
   64

   5.2.2.1....................
   General..........................................................................................................................
   64

   5.2.2.2.................... HTTP standard
   headers.....................................................................................................
   64

   5.2.2.2.1.......................
   General.....................................................................................................................
   64

   5.2.2.2.2....................... Content
   type...............................................................................................................
   64

   5.2.2.3.................... HTTP custom
   headers.......................................................................................................
   65

   5.2.3.................
   Resources............................................................................................................................
   65

   5.2.3.1.................... Resource
   Structure...........................................................................................................
   65

   5.2.3.2.................... Resource: NWDAF
   Analytics.............................................................................................
   65

   5.2.3.2.1.......................
   Description................................................................................................................
   65

   5.2.3.2.2....................... Resource
   definition......................................................................................................
   65

   5.2.3.2.3....................... Resource Standard
   Methods..........................................................................................
   65

   5.2.3.2.3.1..........................
   GET.....................................................................................................................
   65

   5.2.3.2.4....................... Resource Custom
   Operations.........................................................................................
   66

   5.2.4................. Custom Operations without associated
   resources........................................................................
   66

   5.2.5.................
   Notifications........................................................................................................................
   66

   5.2.6................. Data
   Model.........................................................................................................................
   66

   5.2.6.1....................
   General..........................................................................................................................
   66

   5.2.6.2.................... Structured data
   types........................................................................................................
   69

   5.2.6.2.1.......................
   Introduction...............................................................................................................
   69

   5.2.6.2.2....................... Type
   AnalyticsData.....................................................................................................
   70

   5.2.6.2.3....................... Type
   EventFilter.........................................................................................................
   71

   5.2.6.2.4.......................
   Void.........................................................................................................................
   72

   5.2.6.3.................... Simple data types and
   enumerations....................................................................................
   72

   5.2.6.3.1.......................
   Introduction...............................................................................................................
   72

   5.2.6.3.2....................... Simple data
   types........................................................................................................
   72

   5.2.6.3.3....................... Enumeration:
   EventId..................................................................................................
   73

   5.2.7................. Error
   handling......................................................................................................................
   73

   5.2.7.1....................
   General..........................................................................................................................
   73

   5.2.7.2.................... Protocol
   Errors................................................................................................................
   73

   5.2.7.3.................... Application
   Errors............................................................................................................
   73

   5.2.8................. Feature
   negotiation...............................................................................................................
   74

   5.2.9.................
   Security..............................................................................................................................
   74

   Annex A (normative): OpenAPI
   specification.....................................................................................
   75

   A.1....
   General.......................................................................................................................................
   75

   A.2.... Nnwdaf_EventsSubscription
   API.................................................................................................
   75

   A.3.... Nnwdaf_AnalyticsInfo
   API..........................................................................................................
   90

   Annex B (informative): Change
   history..............................................................................................
   94

    

   .. container::

      .. rubric:: Foreword
         :name: foreword

   This Technical Specification has been produced by the 3\ rd
   Generation Partnership Project (3GPP).

   The contents of the present document are subject to continuing work
   within the TSG and may change following formal TSG approval. Should
   the TSG modify the contents of the present document, it will be
   re-released by the TSG with an identifying change of release date and
   an increase in version number as follows:

   Version x.y.z

   where:

   x   the first digit:

   1   presented to TSG for information;

   2   presented to TSG for approval;

   3   or greater indicates TSG approved document under change control.

   y   the second digit is incremented for all changes of substance,
   i.e. technical enhancements, corrections, updates, etc.

   z    the third digit is incremented when editorial only changes have
   been incorporated in the document.

   .. container::

      .. rubric:: 1         Scope
         :name: scope

   The present specification provides the stage 3 definition of the
   Network Data Analytics Function Services of the 5G System.

   The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The
   stage 2 definition and related procedures for Network Data Analytics
   Function Services are specified in 3GPP TS 23.288 [17] and
   3GPP TS 23.503 [4].

   The 5G System stage 3 call flows are provided in 3GPP TS 29.513 [5].

   The Technical Realization of the Service Based Architecture and the
   Principles and Guidelines for Services Definition are specified in
   3GPP TS 29.500 [6] and 3GPP TS 29.501 [7].

   The Network Data Analytics Function Services are provided by the
   Network Data Analytics Function (NWDAF).

   .. container::

      .. rubric:: 2         References
         :name: references

   The following documents contain provisions which, through reference
   in this text, constitute provisions of the present document.

   -    References are either specific (identified by date of
   publication, edition number, version number, etc.) or non‑specific.

   -    For a specific reference, subsequent revisions do not apply.

   -    For a non-specific reference, the latest version applies. In the
   case of a reference to a 3GPP document (including a GSM document), a
   non-specific reference implicitly refers to the latest version of
   that document in the same Release as the present document.

   [1]                    3GPP TR 21.905: "Vocabulary for 3GPP
   Specifications".

   [2]                    3GPP TS 23.501: "System Architecture for the
   5G System; Stage 2".

   [3]                    Void.

   [4]                    3GPP TS 23.503: "Policy and Charging Control
   Framework for the 5G System; Stage 2".

   [5]                    3GPP TS 29.513: "5G System; Policy and
   Charging Control signalling flows and QoS parameter mapping; Stage
   3".

   [6]                    3GPP TS 29.500: "5G System; Technical
   Realization of Service Based Architecture; Stage 3".

   [7]                    3GPP TS 29.501: "5G System; Principles and
   Guidelines for Services Definition; Stage 3".

   [8]                    3GPP TS 29.571: "5G System; Common Data Types
   for Service Based Interfaces; Stage 3".

   [9]                    IETF RFC 7540: "Hypertext Transfer Protocol
   Version 2 (HTTP/2)".

   [10]                  IETF RFC 8259: "The JavaScript Object Notation
   (JSON) Data Interchange Format".

   [11]                  OpenAPI, "OpenAPI 3.0.0 Specification",
   \ `https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md <https://github.com/OAI/OpenAPI-Specification/blob/master/versions/3.0.0.md>`__\ .

   [12]                  3GPP TS 29.510: "5G System; Network Function
   Repository Services; Stage 3".

   [13]                  3GPP TS 33.501: "Security architecture and
   procedures for 5G system".

   [14]                  IETF RFC 6749: "The OAuth 2.0 Authorization
   Framework".

   [15]                  IETF RFC 7807: "Problem Details for HTTP APIs".

   [16]                  3GPP TR 21.900: "Technical Specification Group
   working methods".

   [17]                  3GPP TS 23.288: "Architecture enhancements for
   5G System (5GS) to support network data analytics services".

   [18]                  3GPP TS 29.554: "5G System; Background Data
   Transfer Policy Control Service; Stage 3".

   [19]                  3GPP TS 29.122: "T8 reference point for
   Northbound APIs".

   [20]                  3GPP TS 29.523: "5G System; Policy Control
   Event Exposure Service; Stage 3".

   [21]                  3GPP TS 29.514: "5G System; Policy
   Authorization Service; Stage 3".

   [22]                  3GPP TS 29.517: "5G System; Application
   Function (AF) event exposure service".

   [23]                  3GPP TS 29.503: "5G System; Unified Data
   Management Services; Stage 3".

   [24]                  3GPP TS 29.531: "5G System; Network Slice
   Selection Services; Stage 3".

   .. container::

      .. rubric:: 3         Definitions and abbreviations
         :name: definitions-and-abbreviations

   .. rubric:: 3.1         Definitions
      :name: definitions

   For the purposes of the present document, the terms and definitions
   given in 3GPP TR 21.905 [1] and the following apply. A term defined
   in the present document takes precedence over the definition of the
   same term, if any, in 3GPP TR 21.905 [1].

   .. rubric:: 3.2         Abbreviations
      :name: abbreviations

   For the purposes of the present document, the abbreviations given in
   3GPP TR 21.905 [1] and the following apply. An abbreviation defined
   in the present document takes precedence over the definition of the
   same abbreviation, if any, in 3GPP TR 21.905 [1].

   5QI                   5G QoS Identifier

   AF                   Application Function

   AMF                Access and Mobility Management Function

   API                  Application Programming Interface

   CEF                 Charging Enablement Function

   DNN                 Data Network Name

   GFBR               Guaranteed Flow Bit Rate

   HTTP               Hypertext Transfer Protocol

   JSON                JavaScript Object Notation

   NEF                 Network Exposure Function

   NF                   Network Function

   NRF                 Network Repository Function

   NSSF               Network Slice Selection Function

   NWDAF            Network Data Analytics Function

   OAM                Operation, Administration, and Maintenance

   PCF                 Policy Control Function

   SUPI                Subscription Permanent Identifier

   S-NSSAI           Single Network Slice Selection Assistance
   Information

   SMF                 Session Management Function

   UDM                Unified Data Management

   UPF                 User Plane Function

   URI                 Uniform Resource Identifier

   UTC                 Universal Time Coordinated

   .. container::

      .. rubric:: 4         Services offered by the NWDAF
         :name: services-offered-by-the-nwdaf

   .. rubric:: 4.1         Introduction
      :name: introduction

   The Nnwdaf services are used for the NWDAF to provide specific
   analytics information.

   Analytics information is either statistical information of past
   events, or predictive information.

   The following services are specified for the NWDAF:

   Table 4.1-1: Services provided by NWDAF

   Service Name

Description

Service Operations

Operation

Semantics

Example Consumer(s)

Nnwdaf_EventsSubscription

(NOTE)

This service enables the NF service consumers to subscribe
to/unsubscribe from notifications for different analytics information
from the NWDAF.

Subscribe

Subscribe / Notify

PCF, NSSF, AMF, SMF, NEF, AF, OAM, CEF

Unsubscribe

Notify

Nnwdaf_AnalyticsInfo

This service enables the NF service consumers to request and get
specific analytics from the NWDAF.

Request

Request / Response

PCF, NSSF, AMF, SMF, NEF, AF, OAM

NOTE:     This service corresponds to the Nnwdaf_AnalyticsSubscription
service defined in 3GPP TS 23.288 [17].

 

Table 4.1-2 summarizes the corresponding APIs defined in this
specification.

Table 4.1-2: API Descriptions

.. container::

   Service Name

Clause

Description

OpenAPI Specification File

apiName

Annex

Nnwdaf_EventsSubscription

5.1

Nnwdaf Events Subscription Service.

TS29520_Nnwdaf_EventsSubscription.yaml

nnwdaf-eventssubscription

A.2

Nnwdaf_AnalyticsInfo

5.2

Nnwdaf Analytics Information Service

TS29520_Nnwdaf_AnalyticsInfo.yaml

nnwdaf-analyticsinfo

A.3

 

4.2         Nnwdaf_EventsSubscription Service
---------------------------------------------

4.2.1      Service Description
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

4.2.1.1           Overview
^^^^^^^^^^^^^^^^^^^^^^^^^^

The Nnwdaf_EventsSubscription Service corresponding to
Nnwdaf_AnalyticsSubscription Service as defined in 3GPP TS 23.501 [2],
3GPP TS 23.288 [17] and 3GPP TS 23.503 [4], is provided by the Network
Data Analytics Function (NWDAF).

This service:

-    allows NF consumers to subscribe to and unsubscribe from different
analytic events; and

-    notifies NF consumers with a corresponding subscription about
observed events.

The types of observed events include:

-    Slice load level information;

-    Network slice instance load level information;

-    Service experience;

-    NF load;

-    Network performance;

-    Abnormal behaviour;

-    UE mobility;

-    UE communication;

-    User data congestion; and

-    QoS sustainability.

4.2.1.2           Service Architecture
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Network
Data Analytics Exposure architecture is defined in 3GPP TS 23.288 [17].
The Policy and Charging related 5G architecture is also described in
3GPP TS 23.503 [4] and 3GPP TS 29.513 [5].

The Nnwdaf_EventsSubscription service is part of the Nnwdaf
service-based interface exhibited by the Network Data Analytics Function
(NWDAF).

Known consumers of the Nnwdaf_EventsSubscription service are:

-    Policy Control Function (PCF)

-    Network Slice Selection Function (NSSF)

-    Access and Mobility Management Function (AMF)

-    Session Management Function (SMF)

-    Network Exposure Function (NEF)

-    Application Function (AF)

-    Operation, Administration, and Maintenance (OAM)

-    Charging Enablement Function (CEF)

The PCF accesses the Nnwdaf_EventsSubscription service at the NWDAF via
the N23 Reference point. The NSSF accesses the Nnwdaf_EventsSubscription
service at the NWDAF via the N34 Reference point.

Figure 4.2.1.2-1: Reference Architecture for the
Nnwdaf_EventsSubscription Service; SBI representation

Figure 4.2.1.2-2: Reference Architecture for the
Nnwdaf_EventsSubscription Service: reference point representation

4.2.1.3           Network Functions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

4.2.1.3.1              Network Data Analytics Function (NWDAF)
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

The Network Data Analytics Function (NWDAF) provides analytics
information for different analytic events to NF consumers.

The Network Data Analytics Function (NWDAF) allows NF consumers to
subscribe to and unsubscribe from one-time, periodic notification or
notification when an event is detected.

4.2.1.3.2              NF Service Consumers
'''''''''''''''''''''''''''''''''''''''''''

The Policy Control Function (PCF):

-    supports (un)subscription to the notification of analytics
information for slice load level information from the NWDAF;

-    supports (un)subscription to the notification of analytics
information for service experience related network data from the NWDAF;

-    supports (un)subscription to the notification of analytics
information for network performance from the NWDAF;

-    supports (un)subscription to the notification of analytics
information for abnormal UE behaviour from the NWDAF; and

-    supports taking one or more above input from NWDAF into
consideration for policies on assignment of network resources and/or for
traffic steering policies.

NOTE:     How this information is used by the PCF is not standardized in
this release of the specification.

The Network Slice Selection Function (NSSF):

-    supports (un)subscription to the notification of analytics
information for slice load level information or network slice instance
load level information from NWDAF to determine slice selection.

The Access and Mobility Management Function (AMF):

-    supports (un)subscription to the notification of analytics
information for SMF load information from NWDAF to determine SMF
selection;

-    supports (un)subscription to the notification of analytics
information for expected UE behavioural information (UE mobility and/or
UE communication) from NWDAF to monitor UE behaviour; and

-    supports (un)subscription to the notification of analytics
information for abnormal UE behaviour information from NWDAF to
determine adjustment of UE mobility related network parameters to solve
the abnormal risk.

The Session Management Function (SMF):

-    supports (un)subscription to the notification of analytics
information for UPF load information from NWDAF to determine UPF
selection;

-    supports (un)subscription to the notification of analytics
information for expected UE behavioural information (UE mobility and/or
UE communication) from NWDAF to monitor UE behaviour; and

-    supports (un)subscription to the notification of analytics
information for abnormal UE behaviour information from NWDAF to
determine adjustment of UE communicationrelated network parameters to
solve the abnormal risk.

The Network Exposure Function (NEF):

-    supports forwarding UE mobility information from NWDAF to the AF
when it is untrusted;

-    supports forwarding UE communication information from NWDAF to the
AF when it is untrusted;

-    supports forwarding expected UE behavioural information (UE
mobility and/or UE communication) from NWDAF to the AF when it is
untrusted;

-    supports forwarding abnormal behaviour information from NWDAF to
the AF when it is untrusted;

-    supports forwarding user data congestion information from NWDAF to
the AF when it is untrusted;

-    supports forwarding network performance information from NWDAF to
the AF when it is untrusted; and

-    supports forwarding QoS Sustainability information from NWDAF to
the AF when it is untrusted.

The Application Function (AF):

-    supports receiving UE mobility information from NWDAF or via the
NEF;

-    supports receiving UE communication information from NWDAF or via
the NEF;

-    supports receiving expected UE behavioural information (UE mobility
and/or UE communication) from NWDAF or via the NEF;

-    supports receiving abnormal behaviour information from NWDAF or via
the NEF;

-    supports receiving user data congestion information from NWDAF or
via the NEF;

-    supports receiving network performance information from NWDAF or
via the NEF; and

-    supports receiving QoS Sustainability information from NWDAF or via
the NEF.

The Operation, Administration, and Maintenance (OAM):

-    supports receiving observed service experience from NWDAF;

-    supports receiving NF load information from NWDAF;

-    supports receiving network performance information from NWDAF;

-    supports receiving UE mobility information from NWDAF;

-    supports receiving UE communication information from NWDAF;

-    supports receiving expected UE behaviour information (UE mobility
and/or UE communication) from NWDAF; and

-    supports receiving abnormal UE behaviour information from NWDAF.

The Charging Enablement Function (CEF):

-    supports (un)subscription to the notification of analytics
information for slice load level information from the NWDAF; and

-    supports (un)subscription to the notification of analytics
information for service experience statistics information from the
NWDAF.

4.2.2      Service Operations
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. _introduction-1:

4.2.2.1           Introduction
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Table 4.2.2.1-1: Operations of the Nnwdaf_EventsSubscription Service

Service operation name

Description

Initiated by

Nnwdaf_EventsSubscription\_Subscribe

This service operation is used by an NF to subscribe or update
subscription for event notifications of the analytic information.

One-time, periodic notification or notification upon event detected can
be subscribed.

NF consumer (PCF, NSSF, AMF, SMF, NEF, AF, OAM, CEF)

Nnwdaf_EventsSubscription_Unsubscribe

This service operation is used by an NF to unsubscribe from event
notifications.

NF consumer (PCF, NSSF, AMF, SMF, NEF, AF, OAM, CEF)

Nnwdaf_EventsSubscription_Notify

This service operation is used by an NWDAF to notify NF consumers about
subscribed events.

NWDAF

 

4.2.2.2           Nnwdaf_EventsSubscription_Subscribe service operation
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

4.2.2.2.1              General
''''''''''''''''''''''''''''''

The Nnwdaf_EventsSubscription_Subscribe service operation is used by an
NF service consumer to subscribe or update subscription for event
notifications from the NWDAF.

4.2.2.2.2              Subscription for event notifications
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

Figure 4.2.2.2.2-1 shows a scenario where the NF service consumer sends
a request to the NWDAF to subscribe for event notification(s) (as shown
in 3GPP TS 23.288 [17]).

Figure 4.2.2.2.2-1: NF service consumer subscribes to notifications

The NF service consumer shall invoke the
Nnwdaf_EventsSubscription_Subscribe service operation to subscribe to
event notification(s). The NF service consumer shall send an HTTP POST
request with "{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions" as
Resource URI representing the "NWDAF Events Subscriptions", as shown in
figure 4.2.2.2.2-1, step 1, to create a subscription for an "Individual
NWDAF Event Subscription" according to the information in message body.
The NnwdafEventsSubscription data structure provided in the request body
shall include:

-    an URI where to receive the requested notifications as
"notificationURI" attribute; and

-    a description of the subscribed events as "eventSubscriptions"
attribute that, for each event, the EventSubscription data type shall
include

1)  an event identifier as "event" attribute; and

2)  if the event notification method "PERIODIC" is selected via the
"notificationMethod" attribute, repetition period as "repetitionPeriod"
attribute;

and may include:

1)  maximum number of objects in the "maxObjectNbr" attribute; and/or

2)  maximum number of SUPIs expected for an analytics report in the
"maxSupiNbr" attribute;

3)  identification of time window to which the subscription applies via
identification of date-time(s) in the "startTs" and "endTs" attributes;
and/or

4)  preferred level of accuracy of the analytics in the "accuracy"
attribute.

The NnwdafEventsSubscription data structure provided in the request body
may include:

-    event reporting information as the "evtReq" attribute, which
applies for each event and may contain the following attributes:

1)  event notification method (periodic, one time, on event detection)
in the "notifMethod" attribute;

2)  maximum Number of Reports in the "maxReportNbr" attribute;

3)  monitoring duration in the "monDur" attribute;

4)  repetition period for periodic reporting in the "repPeriod"
attribute;

5)  immediate reporting indication in the "immRep" attribute;

6)  percentage of sampling among impacted UEs in the "sampRatio"
attribute; and/or

7)  group reporting guard time for aggregating the reports for a group
of UEs in the "grpRepTime" attribute;

NOTE 1:  The notification method indicated as the "notifMethod"
attribute and the periodic reporting time indicated as the "repPeriod"
attributes within the event reporting information as the "evtReq"
attribute provided in NnwdafEventsSubscription data type, if present,
supersedes the event notification method as the "notificationMethod"
attribute and repetition period as the "repetitionPeriod" attribute
respectively in the EventSubscription data type.

For different event types, the "eventSubscriptions" attribute:

-    if the event is "SLICE_LOAD_LEVEL", shall provide:

1)  Network slice level load level threshold in the "loadLevelThreshold"
attribute if the "notifMethod" attribute in "evtReq" attribute is set to
"ON_EVENT_DETECTION" or the "notificationMethod" attribute in
"eventSubscriptions" attribute is set to "THRESHOLD" or omitted; and

2)  identification of network slice(s) to which the subscription applies
via identification of network slice(s) in the "snssais" attribute or any
slices indication in the "anySlice" attribute;

-    if the feature "NsiLoad" is supported and the event is
"NSI_LOAD_LEVEL", shall provide:

1)  identification of network slice and the optionally associated
network slice instance(s) if available, via the "nsiIdInfos" attribute
or any slices indication in the "anySlice" attribute;

NOTE 2:       The network slice instance of a PDU session is not
available in the PCF.

2)  the network slice or network slice instance load level thresholds in
the "nsiLevelThrds" attribute if the "notifMethod" attribute in "evtReq"
attribute is set to "ON_EVENT_DETECTION" or the "notificationMethod"
attribute in "eventSubscriptions" attribute is set to "THRESHOLD" or
omitted;

-    if the feature "NfLoad" is supported and the event is "NF_LOAD",
shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis" or "anyUe" in the "tgtUe" attribute; and

2)  NF load level thresholds in the "nfLoadLvlThds" attribute if the
"notifMethod" attribute in "evtReq" attribute is set to
"ON_EVENT_DETECTION" or the "notificationMethod" attribute in
"eventSubscriptions" attribute is set to "THRESHOLD" or omitted;

and may include:

1)  either list of NF instance IDs in the "nfInstanceIds" attribute or
list of NF set IDs in the "nfSetIds" attribute if the identification of
target UE(s) applies to all UEs;

2)  list of NF instance types in the "nfTypes" attribute;

3)  identification of network slice(s) by "snssais" attribute; and/or

4)  a matching direction in the "matchingDir" attribute if the
"nfLoadLvlThds" attribute is provided.

-    if the feature "NetworkPerformance" is supported and the event is
"NETWORK_PERFORMANCE", it shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis", "intGroupIds" or "anyUe" attribute in the "tgtUe" attribute;
and

2)  The network performance requirements via "nwPerfRequs" attribute;

     and may provide:

1)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute (mandatory if
"anyUe" attribute is set to true);

2)  a matching direction in the "matchingDir" attribute if the
"nwPerfRequs" attribute is provided;

-    if the feature "ServiceExperience" is supported and the event is
"SERVICE_EXPERIENCE", shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis", "intGroupIds" or "anyUe" attribute in the "tgtUe" attribute;

2)  any slices indication in the "anySlice" attribute or identification
of network slice(s) together with the optionally associated network
slice instance(s) if available, via the "nsiIdInfos" attribute;

NOTE 3:       The network slice instance of a PDU session is not
available in the PCF.

and may provide:

1)  identification of application to which the subscription applies via
identification of application(s) by "appIds" attribute;

2)  identification of network area to which the subscription applies via
identification of network area(s) by "networkArea" attribute (mandatory
if "anyUe" attribute is set to true);

3)  identification of DNN to which the subscription applies via
identification of application(s) by "dnns" attribute; and

4)  identification of a user plane access to one or more DN(s) where
applications are deployed by "dnais" attribute;

5)  if "appIds" attribute is provided, the bandwidth requirement of each
application by "bwRequs" attribute.

-    if the feature "UeMobility" is supported and the event is
"UE_MOBILITY", shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis" or "intGroupIds" attribute in the "tgtUe" attribute;

and may provide:

1)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute;

-    if the feature "UeCommunication" is supported and the event is
"UE_COMM", shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis" or "intGroupIds" attribute in the "tgtUe" attribute;

and may provide:

1)  identification of the application in the "appIds" attribute;

2)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute;

3)  an identification of DNN in the "dnns" attribute; and/or

4)  identification of network slice in the "snssais" attribute;

-    if the feature "QoSSustainability" is supported and the event is
"QOS_SUSTAINABILITY", shall provide:

1)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute;

2)  The QoS requirements via "qosRequ" attribute;

3)  QoS flow retainability threshold(s) by the "qosFlowRetThds"
attribute for the 5QI of GBR resource type or RAN UE throughout
threshold(s) by the "ranUeThrouThds" attribute for the 5QI of non-GBR
resource type, if the "notifMethod" attribute in "evtReq" attribute is
set to "ON_EVENT_DETECTION" or the "notificationMethod" attribute in
"eventSubscriptions" attribute is set to "THRESHOLD" or omitted; and

4)  identification of target UE(s) to which the subscription applies by
"anyUe" in the "tgtUe" attribute;

and may include:

1)  identification of network slice(s) by "snssais" attribute;

2)  a matching direction in the "matchingDir" attribute if the
"qosFlowRetThds" attribute or the "ranUeThrouThds" attribute is
provided;

-    if the feature "AbnormalBehaviour" is supported and the event is
"ABNORMAL_BEHAVIOUR", shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis", "intGroupIds" or "anyUe" attribute in the "tgtUe" attribute;
and

2)  either the expected analytics type via "exptAnaType" attribute or a
list of exception Ids with the associated thresholds via "excepRequs"
attribute. If the expected analytics type via "exptAnaType" attribute is
provided, the NWDAF shall derive the corresponding Exception Ids from
the received expected analytics type as follows:

a)  if "exptAnaType" attribute sets to "MOBILITY", the corresponding
list of Exception Ids are "UNEXPECTED_UE_LOCATION",
"PING_PONG_ACROSS_CELLS", "UNEXPECTED_WAKEUP" and
"UNEXPECTED_RADIO_LINK_FAILURES";

b)  if "exptAnaType" attribute sets to "COMMUN", the corresponding list
of Exception Ids are "UNEXPECTED_LONG_LIVE_FLOW",
"UNEXPECTED_LARGE_RATE_FLOW", "SUSPICION_OF_DDOS_ATTACK",
"WRONG_DESTINATION_ADDRESS" and "TOO_FREQUENT_SERVICE_ACCESS";

c)  if "exptAnaType" attribute sets to "MOBILITY_AND_COMMUN", the
corresponding list of Exception Ids includes all above derived exception
Ids.

The derived list of Exception Ids are used by the NWDAF to notify the NF
service consumer when UE's behaviour is exceptional based on one or more
Exception Ids within the list.

If the "anyUe" attribute in the "tgtUe" attribute sets to "true",

a)  the expected analytics type via the"exptAnaType" attribute or the
list of Exception Ids via "excepRequs" attribute shall not be requested
for both mobility and communication related analytics at the same time.

b)  if the expected analytics type via the"exptAnaType" attribute or the
list of Exception Ids via "excepRequs" attribute is mobility related, at
least one of identification of network area by "networkArea" attribute
and identification of network slice(s) by "snssais" attribute should be
provided;

c)  if the expected analytics type via the"exptAnaType" attribute or the
list of Exception Ids via "excepRequs" attribute is communication
related, at least one of identification of network area by "networkArea"
attribute, identification of application(s) by "appIds" attribute,
identification of DNN(s) in the "dnns" attribute and identification of
network slice(s) by "snssais" attribute should be provided;

and may provide:

1)  expected UE behaviour via "exptUeBehav" attribute.

-    if the feature "UserDataCongestion" is supported and the event is
"USER_DATA_CONGESTION", shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis" or "anyUe" attribute;

and may include:

1)  congestion threshold by the "congThresholds" attribute if the
"notifMethod" attribute in "evtReq" attribute is set to
"ON_EVENT_DETECTION" or the "notificationMethod" attribute in
"eventSubscriptions" attribute is set to "THRESHOLD" or omitted;

2)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute (mandatory if
"anyUe" attribute is set to true);

3)  identification of network slice(s) by "snssais" attribute; and/or

4)  a matching direction in the "matchingDir" attribute if the
"congThresholds" attribute is provided.

Upon the reception of an HTTP POST request with:
"{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions" as Resource URI
and NnwdafEventsSubscription data structure as request body, the NWDAF
shall:

-    create a new subscription;

-    assign an event subscriptionId;

-    store the subscription.

If the NWDAF created an "Individual NWDAF Event Subscription" resource,
the NWDAF shall respond with "201 Created" with the message body
containing a representation of the created subscription, as shown in
figure 4.2.2.2.2-1, step 2. If not all the requested analytics events in
the subscription are accepted, then the NWDAF may include the
"failEventReports" attribute indicating the event(s) for which the
subscription failed and the associated reason(s). The NWDAF shall
include a Location HTTP header field. The Location header field shall
contain the URI of the created subscription i.e.
"{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions/{subscriptionId}".
If the immediate reporting indication in the "immRep" attribute within
the "evtReq" attribute sets to true in the event subscription, the NWDAF
shall include the reports of the events subscribed, if available, in the
HTTP POST response.

4.2.2.2.3              Update subscription for event notifications
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

Figure 4.2.2.2.3-1 shows a scenario where the NF service consumer sends
a request to the NWDAF to update the subscription for event
notifications (see also 3GPP TS 23.288 [17]).

Figure 4.2.2.2.3-1: NF service consumer updates subscription to
notifications

The NF service consumer shall invoke the
Nnwdaf_EventsSubscription_Subscribe service operation to update
subscription to event notifications. The NF service consumer shall send
an HTTP PUT request with
"{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions/{subscriptionId}"
as Resource URI representing the "Individual NWDAF Event Subscription",
as shown in figure 4.2.2.2.3-1, step 1, to update the subscription for
an "Individual NWDAF Event Subscription" resource identified by the
{subscriptionId}. The NnwdafEventsSubscription data structure provided
in the request body shall include the same contents as described in
subclause 4.2.2.2.2:

Upon the reception of an HTTP PUT request with:
"{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions/{subscriptionId}"
as Resource URI and NnwdafEventsSubscription data structure as request
body, the NWDAF shall:

-    update the subscription of corresponding subscriptionId; and

-    store the subscription.

NOTE:     The "notificationURI" attribute within the
NnwdafEventsSubscription data structure can be modified to request that
subsequent notifications are sent to a new NF service consumer.

If the NWDAF successfully processed and accepted the received HTTP PUT
request, the NWDAF shall update an "Individual NWDAF Event Subscription"
resource, and shall respond with:

a)  HTTP "200 OK" status code with the message body containing a
representation of the updated subscription, as shown in
figure 4.2.2.2.3-1, step 2a. If not all the requested analytics events
in the subscription are modified successfully, then the NWDAF may
include the "failEventReports" attribute indicating the event(s) for
which the modification failed and the associated reason(s); or

b)  HTTP "204 No Content" status code, as shown in figure 4.2.2.2.3-1,
step 2b.

If errors occur when processing the HTTP PUT request, the NWDAF shall
send an HTTP error response as specified in subclause 5.1.7.

If the Individual NWDAF Event Subscription resource does not exist, the
NWDAF shall respond with "404 Not Found".

If the feature "ES3XX" is supported, and the NWDAF determines the
received HTTP PUT request needs to be redirected, the NWDAF shall send
an HTTP redirect response as specified in subclause 6.10.9 of
3GPP TS 29.500 [6].

4.2.2.3           Nnwdaf_EventsSubscription_Unsubscribe service operation
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _general-1:

4.2.2.3.1              General
''''''''''''''''''''''''''''''

The Nnwdaf_EventsSubscription_Unsubscribe service operation is used by
an NF service consumer to unsubscribe from event notifications.

4.2.2.3.2              Unsubscribe from event notifications
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

Figure 4.2.2.3.2-1 shows a scenario where the NF service consumer sends
a request to the NWDAF to unsubscribe from event notifications (see also
3GPP TS 23.288 [17]).

Figure 4.2.2.3.2-1: NF service consumer unsubscribes from notifications

The NF service consumer shall invoke the
Nnwdaf_EventsSubscription_UnSubscribe service operation to unsubscribe
to event notifications. The NF service consumer shall send an HTTP
DELETE request with:
"{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions/{subscriptionId}"
as Resource URI, where "{subscriptionId}" is the event subscriptionId of
the existing subscription that is to be deleted.

Upon the reception of an HTTP DELETE request with:
"{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions/{subscriptionId}"
as Resource URI, if the NWDAF successfully processed and accepted the
received HTTP DELETE request, the NWDAF shall:

-    remove the corresponding subscription;

-    respond with HTTP "204 No Content" status code.

If errors occur when processing the HTTP DELETE request, the NWDAF shall
send an HTTP error response as specified in subclause 5.1.7.

If the Individual NWDAF Event Subscription resource does not exist, the
NWDAF shall respond with "404 Not Found".

If the feature "ES3XX" is supported, and the NWDAF determines the
received HTTP DELETE request needs to be redirected, the NWDAF shall
send an HTTP redirect response as specified in subclause 6.10.9 of
3GPP TS 29.500 [6].

4.2.2.4           Nnwdaf_EventsSubscription_Notify service operation
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _general-2:

4.2.2.4.1              General
''''''''''''''''''''''''''''''

The Nnwdaf_EventsSubscription_Notify service operation is used by an
NWDAF to notify NF consumers about subscribed events.

4.2.2.4.2              Notification about subscribed event 
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

Figure 4.2.2.4.2-1 shows a scenario where the NWDAF sends a request to
the NF Service Consumer to notify for event notifications (see also
3GPP TS 23.288 [17]).

Figure 4.2.2.4.2-1: NWDAF notifies the subscribed event

The NWDAF shall invoke the Nnwdaf_EventsSubscription_Notify service
operation to notify the subscribed event. The NWDAF shall sends an HTTP
POST request with "{notificationURI}" received in the
Nnwdaf_EventsSubscription_Subscribe service operation as Resource URI,
as shown in figure 4.2.2.4.2-1, step 1. The
NnwdafEventsSubscriptionNotification data structure provided in the
request body that shall include:

-    a description of the notified event as "eventNotifications"
attribute that for each event shall include:

a)   an event identifier as "event" attribute;

b)  network slice load level information in the "sliceLoadLevelInfo"
attribute when subscribed event is "SLICE_LOAD_LEVEL";

c)   service experience information as "svcExps" attribute when
subscribed event is "SERVICE_EXPERIENCE";

d)  UE mobility information in the "ueMobs" attribute when subscribed
event is "UE_MOBILITY";

e)   UE communication information in the "ueComms" attribute when
subscribed event is "UE_COMM";

f)   Abnormal behaviour information in the "abnorBehavrs" attribute when
subscribed event is "ABNORMAL_BEHAVIOUR";

g)  User data congestion information in the "userDataCongInfos"
attribute when subscribed event is "USER_DATA_CONGESTION";

h)  QoS sustainability information in the "qosSustainInfos" attribute
when subscribed event is "QOS_SUSTAINABILITY";

i)   NF load information in "nfLoadLevelInfos" attribute when subscribed
event is "NF_LOAD";

j)   Network performance information in the "nwPerfs" attribute when
subscribed event is "NETWORK_PERFORMANCE"; and

k)  Load level information for the network slice(s) and the optionally
associated network slice instance(s) in "nsiLoadLevelInfos" attribute
when subscribed event is "NSI_LOAD_LEVEL";

-    an event subscriptionId as "subscriptionId" attribute.

Upon the reception of an HTTP POST request with: "{notificationURI}" as
Resource URI and NnwdafEventsSubscriptionNotification data structure as
request body, if the NF service consumer successfully processed and
accepted the received HTTP POST request, the NF Service Consumer shall:

-    store the notification;

-    respond with HTTP "204 No Content" status code.

If errors occur when processing the HTTP POST request, the NF service
consumer shall send an HTTP error response as specified in subclause
5.1.7.

If the feature "ES3XX" is supported, and the NF service consumer
determines the received HTTP POST request needs to be redirected, the NF
service consumer shall send an HTTP redirect response as specified in
subclause 6.10.9 of 3GPP TS 29.500 [6].

4.3         Nnwdaf_AnalyticsInfo Service
----------------------------------------

.. _service-description-1:

4.3.1      Service Description
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. _overview-1:

4.3.1.1           Overview
^^^^^^^^^^^^^^^^^^^^^^^^^^

The Nnwdaf_AnalyticsInfo Service as defined in 3GPP TS 23.501 [2],
3GPP TS 23.288 [17] and 3GPP TS 23.503 [4], is provided by the Network
Data Analytics Function (NWDAF).

This service:

-    allows NF consumers to request and get different type of analytic
event information.

The types of observed events include:

-    Slice load level information;

-    Network slice instance load level information;

-    Service experience;

-    NF load;

-    Network performance;

-    Abnormal behaviour;

-    UE mobility;

-    UE communication;

-    User data congestion; and

-    QoS sustainability.

.. _service-architecture-1:

4.3.1.2           Service Architecture
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The 5G System Architecture is defined in 3GPP TS 23.501 [2]. The Network
Data Analytics Exposure architecture is defined in 3GPP TS 23.288 [17]. 
The Policy and Charging related 5G architecture is also described in
3GPP TS 23.503 [4] and 3GPP TS 29.513 [5].

The Nnwdaf_AnalyticsInfo service is part of the Nnwdaf service-based
interface exhibited by the Network Data Analytics Function (NWDAF).

Known consumers of the Nnwdaf_AnalyticsInfo service are:

-    Policy Control Function (PCF)

-    Network Slice Selection Function (NSSF)

-    Access and Mobility Management Function (AMF)

-    Session Management Function (SMF)

-    Network Exposure Function (NEF)

-    Application Function (AF)

-    Operation, Administration, and Maintenance (OAM)

The PCF accesses the Nnwdaf_AnalyticsInfo service at the NWDAF via the
N23 Reference point. The NSSF accesses the Nnwdaf_AnalyticsInfo service
at the NWDAF via the N34 Reference point.

Figure 4.3.1.2-1: Reference Architecture for the Nnwdaf_AnalyticsInfo
Service; SBI representation

Figure 4.3.1.2-2: Reference Architecture for the Nnwdaf_AnalyticsInfo
Service: reference point representation

.. _network-functions-1:

4.3.1.3           Network Functions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _network-data-analytics-function-nwdaf-1:

4.3.1.3.1              Network Data Analytics Function (NWDAF)
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

The Network Data Analytics Function (NWDAF) provides specific analytics
information for different analytic events to NF consumers.

.. _nf-service-consumers-1:

4.3.1.3.2              NF Service Consumers
'''''''''''''''''''''''''''''''''''''''''''

The Policy Control Function (PCF):

-    supports taking analytics information for slice load level
information from the NWDAF;

-    supports taking analytics information for service experience
related network data from the NWDAF;

-    supports taking analytics information for network performance from
the NWDAF;

-    supports taking analytics information for abnormal UE behaviour
from the NWDAF;

-    supports taking one or more above input from NWDAF into
consideration for policies on assignment of network resources and/or for
traffic steering policies.

NOTE:     How this information is used by the PCF is not standardized in
this release of the specification.

The Network Slice Selection Function (NSSF):

-    supports taking slice load level information or network slice
instance load level information from NWDAF into consideration for slice
selection.

The Access and Mobility Management Function (AMF):

-    supports taking SMF load information from NWDAF into consideration
for SMF selection;

-    supports taking expected UE behaviour information (UE mobility
and/or UE communication) from NWDAF into consideration for monitoring UE
behaviour;

-    supports taking abnormal UE behaviour information from NWDAF into
consideration for adjustment of UE mobility related network parameters
to solve the abnormal risk.

The Session Management Function (SMF):

-    supports taking UPF load information from NWDAF into consideration
for UPF selection;

-    supports taking expected UE behaviour information (UE mobility
and/or UE communication) from NWDAF into consideration for monitoring UE
behaviour;

-    supports taking abnormal UE behaviour information from NWDAF into
consideration for adjustment of UE mobility related network parameters
to solve the abnormal risk.

The Network Exposure Function (NEF):

-    supports forwarding UE mobility information from NWDAF to the AF
when it is untrusted;

-    supports forwarding UE communication information from NWDAF to the
AF when it is untrusted;

-    supports forwarding expected UE behavioural information (UE
mobility and/or UE communication) from NWDAF to the AF when it is
untrusted;

-    supports forwarding abnormal behaviour information from NWDAF to
the AF when it is untrusted;

-    supports forwarding user data congestion information from NWDAF to
the AF when it is untrusted;

-    supports forwarding network performance information from NWDAF to
the AF when it is untrusted;

-    supports forwarding QoS Sustainability information from NWDAF to
the AF when it is untrusted.

The Application Function (AF):

-    supports receiving UE mobility information from NWDAF or via the
NEF;

-    supports receiving UE communication information from NWDAF or via
the NEF;

-    supports receiving expected UE behavioural information (UE mobility
and/or UE communication) from NWDAF or via the NEF;

-    supports receiving abnormal behaviour information from NWDAF or via
the NEF;

-    supports receiving user data congestion information from NWDAF or
via the NEF;

-    supports receiving network performance information from NWDAF or
via the NEF;

-    supports receiving QoS Sustainability information from NWDAF or via
the NEF.

The Operation, Administration, and Maintenance (OAM):

-    supports receiving observed service experience from NWDAF;

-    supports receiving NF load information from NWDAF;

-    supports receiving network performance information from NWDAF;

-    supports receiving UE mobility information from NWDAF;

-    supports receiving UE communication information from NWDAF;

-    supports receiving expected UE behaviour information (UE mobility
and/or UE communication) from NWDAF;

-    supports receiving abnormal UE behaviour information from NWDAF.

.. _service-operations-1:

4.3.2      Service Operations
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. _introduction-2:

4.3.2.1           Introduction
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Table 4.3.2.1-1: Operations of the Nnwdaf_AnalyticsInfo Service

Service operation name

Description

Initiated by

Nnwdaf_AnalyticsInfo_Request

This service operation is used by an NF to request and get specific
analytics from NWDAF.

NF consumer (PCF, NSSF, AMF, SMF, NEF, AF, OAM)

 

4.3.2.2           Nnwdaf_AnalyticsInfo_Request service operation
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _general-3:

4.3.2.2.1              General
''''''''''''''''''''''''''''''

The Nnwdaf_AnalyticsInfo_Request service operation is used by an NF
service consumer to request and get specific analytics information from
the NWDAF.

4.3.2.2.2              Request and get from NWDAF Analytics information
'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

Figure 4.3.2.2.2-1 shows a scenario where the NF service consumer (e.g.
PCF) sends a request to the NWDAF to request and get from NWDAF
analytics information (as shown in 3GPP TS 23.288 [17]).

Figure 4.3.2.2.2-1: Requesting a NWDAF Analytics information

The NF service consumer (e.g. PCF) shall invoke the
Nnwdaf_AnalyticsInfo_Request service operation when requesting the NWDAF
analytics information. The NF service consumer shall send an HTTP GET
request on the resource URI
"{apiRoot}/nnwdaf-analyticsinfo/v1/analytics" representing the "NWDAF
Analytics" (as shown in figure 4.3.2.2.2-1, step 1), to request
analytics data according to the query parameter value of the "event-id"
attribute. In addition, the following information may be provided:

-    common reporting requirement in the "ana-req" attribute as follows:

1)  identification of time window for the requested analytics data via
identification of date-time(s) in the "startTs" and "endTs" attributes;

2)  preferred level of accuracy of the analytics in "accuracy"
attribute;

3)  percentage of sampling among impacted UEs in the "sampRatio"
attribute;

4)  maximum number of objects in the "maxObjectNbr" attribute;

5)  maximum number of SUPIs expected for an analytics report in the
"maxSupiNbr" attribute; and/or

6) identification of time when analytics information is needed in the
"timeAnaNeeded" atribute.

For different event types:

-    if the event is "LOAD_LEVEL_INFORMATION", it shall provide the
event specific filter information within "event-filter" attribute
including identification(s) of the network slice via:

1)  identification of network slice(s) in the "snssais" attribute; or

2)  any slices indication in the "anySlice" attribute.

-    if the feature "NsiLoad" is supported and the event is
"NSI_LOAD_LEVEL", it shall provide the event specific filter information
within "event-filter" attribute including identification(s) of the
network slice via:

1)  identification of network slice(s) and the optionally associated
instance(s) if available in the "nsiIdInfos" attribute; or

2)  any slices indication in the "anySlice" attribute.

NOTE 1:  The network slice instance of a PDU session is not available in
the PCF.

-    if the feature "NfLoad" is supported and the event is "NF_LOAD", it
shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis" or "anyUe" in the "tgt-ue" attribute; and

the "event-filter" attribute may provide:

a)  either list of NF instance IDs in the "nfInstanceIds" attribute or
list of NF set IDs in the "nfSetIds" attribute if the identification of
target UE(s) applies to all UEs;

b)  list of NF instance types in the "nfTypes" attribute; and/or

c)  identification of network slice(s) in the "snssais" attribute;

-    if the feature "UeMobility" is supported and the event is
"UE_MOBILITY", it shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis" or "intGroupIds" attribute in the "tgt-ue" attribute;

and may provide:

1)  event specific filter information in the "event-filter" attribute:

a)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute;

-    if the feature "UeCommunication" is supported and the event is
"UE_COMM", it shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis" or "intGroupIds" attribute in the "tgt-ue" attribute;

and may provide:

1)  event specific filter information in the "event-filter" attribute:

a)  identification of the application as "appIds" attribute;

b)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute;

c)  identification of DNN in the "dnns" attribute; and

d)  identification of  network slice(s) in the "snssais" attribute;

-    if the feature "NetworkPerformance" is supported and the event is
"NETWORK_PERFORMANCE", it shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis", "intGroupIds" or "anyUe" attribute in the "tgt-ue" attribute;
and

2)  event specific filter information in the "event-filter" attribute
which shall provide:

a)  the network performance types via "nwPerfTypes" attribute; and

the "event-filter" attribute may provide:

a)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute (mandatory if
"anyUe" attribute is set to true).

-    if the feature "ServiceExperience" is supported and the event is
"SERVICE_EXPERIENCE", it shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis", "intGroupIds" or "anyUe" attribute in the "tgt-ue" attribute;

2)  event specific filter information in the "event-filter" attribute
which shall provide:

a)  any slices indication in the "anySlice" attribute or identification
of network slice(s) together with the optionally associated network
slice instance(s) if available, via the "nsiIdInfos" attribute; and

NOTE 2:       The network slice instance of a PDU session is not
available in the PCF.

the "event-filter" attribute may provide:

a)  identification of application(s) to which the subscription applies
via "appIds" attribute;

b)  identification of DNN via identification of Dnn(s) by "dnns"
attribute;

c)  identification of user plane accesses to one or more DN(s) where
applications are deployed via "dnais" attribute;

d)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute (mandatory if
"anyUe" attribute is set to true);

e)  if "appIds" attribute is provided, the bandwidth requirement of each
application by "bwRequs" attribute.

-    if the feature "QoSSustainability" is supported and the event is
"QOS_SUSTAINABILITY", it shall provide:

1)  event specific filter information in the "event-filter" attribute
which shall provide:

a)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute;

b)  QoS requirements via "qosRequ" attribute; and

2)  identification of target UE(s) to which the subscription applies by
"anyUe" in the "tgt-ue" attribute;

the "event-filter" attribute may provide:

a)  identification of network slice(s) by "snssais" attribute;

-    if the feature "AbnormalBehaviour" is supported and the event is
"ABNORMAL_BEHAVIOUR", it shall provide:

1)  identification of target UE(s) to which the subscription applies by
"supis", "intGroupIds" or "anyUe" attribute in the "tgt-ue" attribute;
and

2)  event specific filter information in the "event-filter" attribute
which shall provide

a)  either the expected analytics type via "exptAnaType" attribute or a
list of exception Ids via "excepIds" attribute. If the expected
analytics type via "exptAnaType" attribute is provided, the NWDAF shall
derive the corresponding Exception Ids from the received expected
analytics type as follows:

-    if "exptAnaType" attribute sets to "MOBILITY", the corresponding
list of Exception Ids are "UNEXPECTED_UE_LOCATION"
"PING_PONG_ACROSS_CELLS", "UNEXPECTED_WAKEUP" and
"UNEXPECTED_RADIO_LINK_FAILURES";

-    if "exptAnaType" attribute sets to "COMMUN", the corresponding list
of Exception Ids are "UNEXPECTED_LONG_LIVE_FLOW",
"UNEXPECTED_LARGE_RATE_FLOW", "SUSPICION_OF_DDOS_ATTACK",
"WRONG_DESTINATION_ADDRESS" adn "TOO_FREQUENT_SERVICE_ACCESS";

-    if "exptAnaType" attribute sets to "MOBILITY_AND_COMMUN", the
corresponding list of Exception Ids includes all above derived exception
Ids.

The derived list of Exception Ids are used by the NWDAF to notify the NF
service consumer when UE's behaviour is exceptional based on one or more
Exception Ids within the list.

If the "anyUe" attribute in the "tgt-ue" attribute sets to "true",

a)  the expected analytics type via the"exptAnaType" attribute or the
list of Exception Ids via "excepIds" attribute shall not be requested
for both mobility and communication related analytics at the same time.

b)  if the expected analytics type via the"exptAnaType" attribute or the
list of Exception Ids via "excepIds" attribute is mobility related, at
least one of identification of network area by "networkArea" attribute
and identification of network slice(s) by "snssais" attribute should be
provided;

c)  if the expected analytics type via the"exptAnaType" attribute or the
list of Exception Ids via "excepIds" attribute is communication related,
at least one of identification of network area by "networkArea"
attribute, identification of application(s) by "appIds" attribute,
identification of DNN(s) in the "dnns" attribute and identification of
network slice(s) by "snssais" attribute should be provided;

the "event-filter" attribute may provide:

1)  expected UE behaviour via "exptUeBehav" attribute.

-    if the feature "UserDataCongestion" is supported and the event is
"USER_DATA_CONGESTION", it shall provide one of the following
attributes:

1)  identification of target UE(s) via "supis" or "anyUe" attribute
within "tgt-ue" attribute;

and may provide:

1)  event specific filter information in the "event-filter" attribute
which may provide:

a)  identification of network slice(s) by "snssais" attribute; and/or

b)  identification of network area to which the subscription applies via
identification of network area by "networkArea" attribute (mandatory if
"anyUe" attribute is set to true).

Upon the reception of the HTTP GET request, the NWDAF shall:

-    analyse the requested analytic data according to the requested
event

If the HTTP request message from the NF service consumer is accepted,
the NWDAF shall respond with "200 OK" status code with the message body
containing the analytics with parameters as relevant for the requesting
NF service consumer. The AnalyticsData data structure in the response
body shall include:

-    analytics with the corresponding information as described in
subclause 4.2.2.4.2.

If the request NWDAF Analytics data does not exist, the NWDAF shall
respond with "204 No Content".

If the "timeAnaNeeded" attribute within EventReportingRequirement is
provided during the request, if the time is reached the consumer does
not need to wait for the analytics information any longer, the NWDAF may
send an error response to the consumer.

.. container::

   .. rubric:: 5         API Definitions
      :name: api-definitions

5.1         Nnwdaf_EventsSubscription Service API
-------------------------------------------------

.. _introduction-3:

5.1.1      Introduction
~~~~~~~~~~~~~~~~~~~~~~~

The Nnwdaf_EventsSubscription Service shall use the
Nnwdaf_EventsSubscription API.

The API URI of the Nnwdaf_EventsSubscription API shall be:

{apiRoot}/<apiName>/<apiVersion>/

The request URIs used in each HTTP requests from the NF service consumer
towards the NWDAF shall have the Resource URI structure defined in
subclause 4.4.1 of 3GPP TS 29.501 [7], i.e.:

{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>

with the following components:

-    The {apiRoot} shall be set as described in 3GPP TS 29.501 [7].

-    The <apiName> shall be "nnwdaf-eventssubscription".

-    The <apiVersion> shall be "v1".

-    The <apiSpecificResourceUriPart> shall be set as described in
subclause 5.1.3.

5.1.2      Usage of HTTP
~~~~~~~~~~~~~~~~~~~~~~~~

.. _general-4:

5.1.2.1           General
^^^^^^^^^^^^^^^^^^^^^^^^^

HTTP/2, IETF RFC 7540 [9], shall be used as specified in clause 5 of
3GPP TS 29.500 [6].

HTTP/2 shall be transported as specified in subclause 5.3 of
3GPP TS 29.500 [6].

The OpenAPI [11] specification of HTTP messages and content bodies for
the Nnwdaf_EventsSubscription is contained in Annex A.

5.1.2.2           HTTP standard headers
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _general-5:

5.1.2.2.1              General
''''''''''''''''''''''''''''''

See subclause 5.2.2 of 3GPP TS 29.500 [6] for the usage of HTTP standard
headers.

5.1.2.2.2              Content type
'''''''''''''''''''''''''''''''''''

JSON, IETF RFC 8259 [10], shall be used as content type of the HTTP
bodies specified in the present specification as specified in
subclause 5.4 of 3GPP TS 29.500 [6]. The use of the JSON format shall be
signalled by the content type "application/json".

"Problem Details" JSON object shall be used to indicate additional
details of the error in a HTTP response body and shall be signalled by
the content type "application/problem+json", as defined in
IETF RFC 7807 [15].

5.1.2.3           HTTP custom headers
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The Nnwdaf_EventsSubscription Service API shall support HTTP custom
header fields specified in subclause 5.2.3.2 of 3GPP TS 29.500 [6].

In this release of the specification, no specific custom headers are
defined for the Nnwdaf_EventsSubscription Service API.

5.1.3      Resources
~~~~~~~~~~~~~~~~~~~~

5.1.3.1           Resource Structure
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Figure 5.1.3.1-1: Resource URI structure of the
Nnwdaf_EventsSubscription API

Table 5.1.3.1-1 provides an overview of the resources and applicable
HTTP methods.

Table 5.1.3.1-1: Resources and methods overview

.. container::

   Resource name

Resource URI

HTTP method or custom operation

Description

NWDAF Events Subscriptions

/subscriptions

POST

Creates a new Individual NWDAF Event Subscription resource.

Individual NWDAF Event Subscription

/subscriptions/{subscriptionId}

DELETE

Deletes an Individual NWDAF Event Subscription identified by subresource
{subscriptionId}.

PUT

Modifies an existing Individual Event Subscription subresource.

 

5.1.3.2           Resource: NWDAF Events Subscriptions
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

5.1.3.2.1              Description
''''''''''''''''''''''''''''''''''

The NWDAF Events Subscriptions resource represents all subscriptions to
the Nnwdaf_EventsSubscription Service at a given NWDAF. The resource
allows an NF service consumer to create a new Individual NWDAF Event
Subscription resource.

5.1.3.2.2              Resource definition
''''''''''''''''''''''''''''''''''''''''''

Resource URI: {apiRoot}/nnwdaf-eventssubscription/v1/subscriptions

This resource shall support the resource URI variables defined in
table 5.1.3.2.2-1.

Table 5.1.3.2.2-1: Resource URI variables for this resource

.. container::

   Name

Data type

Definition

apiRoot

string

See subclause 5.1.1

 

5.1.3.2.3              Resource Standard Methods
''''''''''''''''''''''''''''''''''''''''''''''''

5.1.3.2.3.1                POST
                               

This method shall support the URI query parameters specified in
table 5.1.3.2.3.1-1.

Table 5.1.3.2.3.1-1: URI query parameters supported by the POST method
on this resource

.. container::

   Name

Data type

P

Cardinality

Description

n/a

 

 

 

 

 

This method shall support the request data structures specified in
table 5.1.3.2.3.1-2 and the response data structures and response codes
specified in table 5.1.3.2.3.1-3.

Table 5.1.3.2.3.1-2: Data structures supported by the POST Request Body
on this resource

.. container::

   Data type

P

Cardinality

Description

NnwdafEventsSubscription

M

1

Create a new Individual NWDAF Event Subscription resource.

 

Table 5.1.3.2.3.1-3: Data structures supported by the POST Response Body
on this resource

.. container::

   Data type

P

Cardinality

Response

codes

Description

NnwdafEventsSubscription

M

1

201 Created

The creation of an Individual NWDAF Event Subscription resource is
confirmed and a representation of that resource is returned.

NOTE:     The mandatory HTTP error status codes for the POST method
listed in table 5.2.7.1-1 of 3GPP TS 29.500 [6] also apply.

 

Table 5.1.3.2.3.1-4: Headers supported by the 201 Response Code on this
resource

.. container::

   Name

Data type

P

Cardinality

Description

Location

string

M

1

Contains the URI of the newly created resource, according to the
structure:
{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions/{subscriptionId}

 

5.1.3.2.4              Resource Custom Operations
'''''''''''''''''''''''''''''''''''''''''''''''''

None in this release of the specification.

5.1.3.3           Resource: Individual NWDAF Event Subscription
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _description-1:

5.1.3.3.1              Description
''''''''''''''''''''''''''''''''''

The Individual NWDAF Event Subscription resource represents a single
subscription to the Nnwdaf_EventsSubscription Service at a given NWDAF.

.. _resource-definition-1:

5.1.3.3.2              Resource definition
''''''''''''''''''''''''''''''''''''''''''

Resource URI:
{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions/{subscriptionId}

This resource shall support the resource URI variables defined in
table 5.1.3.3.2-1.

Table 5.1.3.3.2-1: Resource URI variables for this resource

.. container::

   Name

Data type

Definition

apiRoot

string

See subclause 5.1.1

subscriptionId

string

Identifies a subscription to the Nnwdaf_EventsSubscription Service

 

.. _resource-standard-methods-1:

5.1.3.3.3              Resource Standard Methods
''''''''''''''''''''''''''''''''''''''''''''''''

5.1.3.3.3.1                DELETE
                                 

This method shall support the URI query parameters specified in
table 5.1.3.3.3.1-1.

Table 5.1.3.3.3.1-1: URI query parameters supported by the DELETE method
on this resource

.. container::

   Name

Data type

P

Cardinality

Description

n/a

 

 

 

 

 

This method shall support the request data structures specified in
table 5.1.3.3.3.1-2 and the response data structures and response codes
specified in table 5.1.3.3.3.1-3.

Table 5.1.3.3.3.1-2: Data structures supported by the DELETE Request
Body on this resource

.. container::

   Data type

P

Cardinality

Description

n/a

 

 

 

 

Table 5.1.3.3.3.1-3: Data structures supported by the DELETE Response
Body on this resource

.. container::

   Data type

P

Cardinality

Response

codes

Description

n/a

 

 

204 No Content

Successful case: The Individual NWDAF Event Subscription resource
matching the subscriptionId was deleted.

RedirectResponse

O

0..1

307 Temporary Redirect

Temporary redirection, during Individual NWDAF Event Subscription
deletion. The response shall include a Location header field containing
an alternative URI of the resource located in an alternative NWDAF
(service) instance.

Applicable if the feature "ES3XX" is supported.

RedirectResponse

O

0..1

308 Permanent Redirect

Permanent redirection, during Individual NWDAF Event Subscription
deletion. The response shall include a Location header field containing
an alternative URI of the resource located in an alternative NWDAF
(service) instance.

Applicable if the feature "ES3XX" is supported.

ProblemDetails

O

0..1

404 Not Found

The Individual NWDAF Event Subscription resource does not exist.
(NOTE 2)

NOTE 1:  The mandatory HTTP error status codes for the DELETE method
listed in table 5.2.7.1-1 of 3GPP TS 29.500 [6] also apply.

NOTE 2:  Failure cases are described in subclause 5.1.7.

 

Table 5.1.3.3.3.1-4: Headers supported by the 307 Response Code on this
resource

.. container::

   Name

Data type

P

Cardinality

Description

Location

string

M

1

An alternative URI of the resource located in an alternative NWDAF
(service) instance.

3gpp-Sbi-Target-Nf-Id

string

O

0..1

Identifier of the target NF (service) instance towards which the request
is redirected.

 

Table 5.1.3.3.3.1-5: Headers supported by the 308 Response Code on this
resource

.. container::

   Name

Data type

P

Cardinality

Description

Location

string

M

1

An alternative URI of the resource located in an alternative NWDAF
(service) instance.

3gpp-Sbi-Target-Nf-Id

string

O

0..1

Identifier of the target NF (service) instance towards which the request
is redirected.

 

5.1.3.3.3.2                PUT
                              

This method shall support the URI query parameters specified in
table 5.1.3.3.3.2-1.

Table 5.1.3.3.3.2-1: URI query parameters supported by the PUT method on
this resource

.. container::

   Name

Data type

P

Cardinality

Description

n/a

 

 

 

 

 

This method shall support the request data structures specified in
table 5.1.3.3.3.2-2 and the response data structures and response codes
specified in table 5.1.3.3.3.2-3.

Table 5.1.3.3.3.2-2: Data structures supported by the PUT Request Body
on this resource

.. container::

   Data type

P

Cardinality

Description

NnwdafEventsSubscription

M

1

Parameters to replace a subscription to NWDAF Event Subscription
resource.

 

Table 5.1.3.3.3.2-3: Data structures supported by the PUT Response Body
on this resource

.. container::

   Data type

P

Cardinality

Response codes

Description

NnwdafEventsSubscription

M

1

200 OK

The Individual NWDAF Event Subscription resource was modified
successfully and a representation of that resource is returned.

n/a

 

 

204 No Content

The Individual NWDAF Event Subscription resource was modified
successfully.

RedirectResponse

O

0..1

307 Temporary Redirect

Temporary redirection, during Individual NWDAF Event Subscription
modification. The response shall include a Location header field
containing an alternative URI of the resource located in an alternative
NWDAF (service) instance.

Applicable if the feature "ES3XX" is supported.

RedirectResponse

O

0..1

308 Permanent Redirect

Permanent redirection, during Individual NWDAF Event Subscription
modification. The response shall include a Location header field
containing an alternative URI of the resource located in an alternative
NWDAF (service) instance.

Applicable if the feature "ES3XX" is supported.

ProblemDetails

O

0..1

404 Not Found

The Individual NWDAF Event Subscription resource does not exist.
(NOTE 2)

NOTE 1:  The mandatory HTTP error status codes for the PUT method listed
in table 5.2.7.1-1 of 3GPP TS 29.500 [6] also apply.

NOTE 2:  Failure cases are described in subclause 5.1.7.

 

Table 5.1.3.3.3.2-4: Headers supported by the 307 Response Code on this
resource

.. container::

   Name

Data type

P

Cardinality

Description

Location

string

M

1

An alternative URI of the resource located in an alternative NWDAF
(service) instance.

3gpp-Sbi-Target-Nf-Id

string

O

0..1

Identifier of the target NF (service) instance towards which the request
is redirected.

 

Table 5.1.3.3.3.2-5: Headers supported by the 308 Response Code on this
resource

.. container::

   Name

Data type

P

Cardinality

Description

Location

string

M

1

An alternative URI of the resource located in an alternative NWDAF
(service) instance.

3gpp-Sbi-Target-Nf-Id

string

O

0..1

Identifier of the target NF (service) instance towards which the request
is redirected.

 

.. _resource-custom-operations-1:

5.1.3.3.4              Resource Custom Operations
'''''''''''''''''''''''''''''''''''''''''''''''''

None in this release of the specification.

5.1.4      Custom Operations without associated resources
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

None in this release of the specification.

5.1.5      Notifications
~~~~~~~~~~~~~~~~~~~~~~~~

.. _general-6:

5.1.5.1           General
^^^^^^^^^^^^^^^^^^^^^^^^^

Notifications shall comply with subclause 6.2 of 3GPP TS 29.500 [6] and
subclause 4.6.2.3 of 3GPP TS 29.501 [7].

Table 5.3.3.4.1-1: Notifications overview

.. container::

   Notification

Callback URI

HTTP method or custom operation

Description (service operation)

Event Notification

{notificationURI}

POST

Report one or several observed Events.

 

5.1.5.2           Event Notification
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _description-2:

5.1.5.2.1              Description
''''''''''''''''''''''''''''''''''

The Event Notification is used by the NWDAF to report one or several
observed Events to a NF service consumer that has subscribed to such
Notifications via the Individual NWDAF Event Subscription Resource.

5.1.5.2.2              Operation Definition
'''''''''''''''''''''''''''''''''''''''''''

Callback URI:{notificationURI}

The operation shall support the callback URI variables defined in
table 5.1.5.2.2-1, the request data structures specified in
table 5.1.5.2.2-2 and the response data structure and response codes
specified in table 5.1.5.2.2-3.

Table 5.1.5.2.2-1: Callback URI variables

.. container::

   Name

Data type

Definition

notificationURI

Uri

The Notification Uri as assigned within the Individual NWDAF Event
Subscription and described within the NnwdafEventsSubscription type (see
table 5.1.6.2.2-1).

 

Table 5.1.5.2.2-2: Data structures supported by the POST Request Body on
this resource

.. container::

   Data type

P

Cardinality

Description

array(NnwdafEventsSubscriptionNotification)

M

1..N

Provides Information about observed events

 

Table 5.1.5.2.2-3: Data structures supported by the POST Response Body
on this resource

.. container::

   Data type

P

Cardinality

Response codes

Description

n/a

 

 

204 No Content

The receipt of the Notification is acknowledged.

RedirectResponse

O

0..1

307 Temporary Redirect

Temporary redirection, during the event notification. The response shall
include a Location header field containing an alternative URI
representing the end point of an alternative NF consumer (service)
instance where the notification should be sent.

Applicable if the feature "ES3XX" is supported.

RedirectResponse

O

0..1

308 Permanent Redirect

Permanent redirection, during the event notification. The response shall
include a Location header field containing an alternative URI
representing the end point of an alternative NF consumer (service)
instance where the notification should be sent.

Applicable if the feature "ES3XX" is supported.

NOTE:     The mandatory HTTP error status codes for the POST method
listed in table 5.2.7.1-1 of 3GPP TS 29.500 [6] also apply.

 

Table 5.1.5.2.2-4: Headers supported by the 307 Response Code on this
resource

.. container::

   Name

Data type

P

Cardinality

Description

Location

string

M

1

An alternative URI representing the end point of an alternative NF
consumer (service) instance towards which the notification should be
redirected.

3gpp-Sbi-Target-Nf-Id

string

O

0..1

Identifier of the target NF (service) instance towards which the
notification request is redirected.

 

Table 5.1.5.2.2-5: Headers supported by the 308 Response Code on this
resource

.. container::

   Name

Data type

P

Cardinality

Description

Location

string

M

1

An alternative URI representing the end point of an alternative NF
consumer (service) instance towards which the notification should be
redirected.

3gpp-Sbi-Target-Nf-Id

string

O

0..1

Identifier of the target NF (service) instance towards which the
notification request is redirected.

 

5.1.6      Data Model
~~~~~~~~~~~~~~~~~~~~~

.. _general-7:

5.1.6.1           General
^^^^^^^^^^^^^^^^^^^^^^^^^

This subclause specifies the application data model supported by the
API.

Table 5.1.6.1-1 specifies the data types defined for the
Nnwdaf_EventsSubscription service based interface protocol.

Table 5.1.6.1-1: Nnwdaf_EventsSubscription specific Data Types

.. container::

   Data type

Section defined

Description

Applicability

AdditionalMeasurement

5.1.6.2.26

 

AbnormalBehaviour

AddressList

5.1.6.2.28

 

AbnormalBehaviour

Accuracy

5.1.6.3.5

Represents the preferred level of accuracy of the analytics.

 

AnySlice

5.1.6.3.2

Represents the any slices.

 

BwRequirement

5.1.6.2.25

Represents bandwidth requirement.

ServiceExperience

CircumstanceDescription

5.1.6.2.29

 

AbnormalBehaviour

CongestionInfo

5.1.6.2.18

 

UserDataCongestion

CongestionType

5.1.6.3.8

 

UserDataCongestion

EventNotification

5.1.6.2.5

Describes Notifications about events that occurred.

 

EventReportingRequirement

5.1.6.2.7

Represents the type of reporting the subscription requires.

 

EventSubscription

5.1.6.2.3

Represents the subscription to a single event.

 

ExpectedAnalyticsType

5.1.6.3.11

 

AbnormalBehaviour

IpEthFlowDescription

5.1.6.2.27

 

AbnormalBehaviour

LoadLevelInformation

5.1.6.3.2

Represents load level information of the network slice and the
optionally associated network slice instance.

 

LocationInfo

5.1.6.2.11

 

UeMobility

 

MatchingDirection

5.1.6.3.12

Defines the matching direction when crossing a threshold

NfLoad, QoSSustainability, UserDataCongestion, NetworkPerformance

NetworkPerfInfo

5.1.6.2.23

 

NetworkPerformance

NetworkPerfRequirement

5.1.6.2.22

 

NetworkPerformance

NetworkPerfType

5.1.6.3.10

 

NetworkPerformance

NfLoadLevelInformation

5.1.6.2.31

Represents load level information of a given NF instance.

NfLoad

NfStatus

5.1.6.2.32

Provides the percentage of time spent on various NF states

NfLoad

NwdafEvent

5.1.6.3.4

Describes the NWDAF Events.

 

NnwdafEventsSubscription

5.1.6.2.2

Represents an Individual NWDAF Event Subscription resource.

 

NnwdafEventsSubscriptionNotification

5.1.6.2.4

Represents an Individual NWDAF Event Subscription Notification resource.

 

NwdafFailureCode

5.1.6.3.13

Identifies the failure reason.

 

NotificationMethod

5.1.6.3.3

Represents the notification methods that can be subscribed.

 

NsiIdInfo

5.1.6.2.33

Represents the S-NSSAI and the optionally associated Network Slice
Instance Identifier(s).

ServiceExperience

NsiLoad

NsiLoadLevelInfo

5.1.6.2.34

Represents the load level information for an S-NSSAI and the optionally
associated network slice instance.

NsiLoad

QosRequirement

5.1.6.2.20

 

QoSSustainability

QosSustainabilityInfo

5.1.6.2.19

Represents the QoS Sustainability information.

QoSSustainability

RetainabilityThreshold

5.1.6.2.21

 

QoSSustainability

ServiceExperienceInfo

5.1.6.2.24

Represents the service experience information.

ServiceExperience

SliceLoadLevelInformation

5.1.6.2.6

Represents the slices and their load level information.

 

TargetUeInformation

5.1.6.2.8

Identifies the target UE information.

ServiceExperience

NfLoad

NetworkPerformance

UserDataCongestion

UeMobility

UeCommunication

AbnormalBehaviour

QoSSustainability

ThresholdLevel

5.1.6.2.30

Describe a threshold level

UserDataCongestion

NfLoad

TimeUnit

5.1.6.3.9

 

QoSSustainability

TrafficCharacterization

5.1.6.2.14

 

UeCommunication

UeCommunication

5.1.6.2.13

 

UeCommunication

UeMobility

5.1.6.2.10

 

UeMobility

UserDataCongestionInfo

5.1.6.2.17

Represents the user data congestion information

UserDataCongestion

AbnormalBehaviour

5.1.6.2.15

Represents the abnormal behaviour information.

AbnormalBehaviour

Exception

5.1.6.2.16

Describes the Exception information.

AbnormalBehaviour

ExceptionId

5.1.6.3.6

Describes the Exception Id.

AbnormalBehaviour

ExceptionTrend

5.1.6.3.7

Describes the Exception Trend.

AbnormalBehaviour

FailureEventInfo

5.1.6.2.35

Represents the failure event and the corresponding failure reason.

 

 

Table 5.1.6.1-2 specifies data types re-used by the
Nnwdaf_EventsSubscription service based interface protocol from other
specifications, including a reference to their respective specifications
and when needed, a short description of their use within the Nnwdaf
service based interface.

Table 5.1.6.1-2: Nnwdaf_EventsSubscription re-used Data Types

.. container::

   Data type

Reference

Comments

Applicability

5Qi

3GPP TS 29.571 [8]

Identifies the 5G QoS identifier

QoSSustainability

ApplicationId

3GPP TS 29.571 [8]

Identifies the application identifier.

ServiceExperience

UeCommunication

AbnormalBehaviour

BitRate

3GPP TS 29.571 [8]

String representing a bit rate that shall be formatted as follows:

 

pattern: "^\\d+(\\.\\d+)? (bps|Kbps|Mbps|Gbps|Tbps)$"

Examples:

"125 Mbps", "0.125 Gbps", "125000 Kbps".

ServiceExperience

QoSSustainability

DateTime

3GPP TS 29.571 [8]

Identifies the time.

 

Dnai

3GPP TS 29.571 [8]

Identifies a user plane access to one or more DN(s).

ServiceExperience

Dnn

3GPP TS 29.571 [8]

Identifies the DNN.

ServiceExperience

AbnormalBehaviour

UeCommunication

DurationSec

3GPP TS 29.571 [8]

 

 

EthFlowDescription

3GPP TS 29.514 [21]

 

UeCommunication

AbnormalBehaviour

ExpectedUeBehaviourData

3GPP TS 29.503 [23]

 

AbnormalBehaviour

Float

3GPP TS 29.571 [8]

 

 

FlowDescription

3GPP TS 29.514 [21]

 

UeCommunication

AbnormalBehaviour

GroupId

3GPP TS 29.571 [8]

Identifies a group of UEs.

UeMobility

UeCommunication NetworkPerformance

AbnormalBehaviour

ServiceExperience

Ipv4Addr

3GPP TS 29.571 [8]

 

 

Ipv6Addr

3GPP TS 29.571 [8]

 

 

NetworkAreaInfo

3GPP TS 29.554 [18]

Identifies the network area.

ServiceExperience

QoSSustainability

AbnormalBehaviour

UeMobility

UserDataCongestion

NetworkPerformance

NfInstanceId

3GPP TS 29.571 [8]

Identifies an NF instance

NfLoad

NfSetId

3GPP TS 29.571 [8]

Identifies an NF Set instance

NfLoad

NFType

3GPP TS 29.510 [12]

Indentifies a type of NF

NfLoad

NsiId

3GPP TS 29.531 [24]

Identifies a Network Slice Instance

ServiceExperience

NsiLoad

PacketDelBudget

3GPP TS 29.571 [8]

 

QoSSustainability

PacketErrRate

3GPP TS 29.571 [8]

 

QoSSustainability

ProblemDetails

3GPP TS 29.571 [8]

Used in error responses to provide more detailed information about an
error.

 

QosResourceType

3GPP TS 29.571 [8]

Identifies the resource type in QoS characteristics.

QoSSustainability

RedirectResponse

3GPP TS 29.571 [8]

Contains redirection related information.

ES3XX

ReportingInformation

3GPP TS 29.523 [20]

Represents the type of reporting the subscription requires.

 

SamplingRatio

3GPP TS 29.571 [8]

 

 

ScheduledCommunicationTime

3GPP TS 29.122 [19]

 

UeMobility UeCommunication

Snssai

3GPP TS 29.571 [8]

Identifies the S-NSSAI (Single Network Slice Selection Assistance
Information).

 

Supi

3GPP TS 29.571 [8]

The SUPI for an UE.

ServiceExperience,

NfLoad

NetworkPerformance,

UserDataCongestion

UeMobility

UeCommunication

AbnormalBehaviour

SupportedFeatures

3GPP TS 29.571 [8]

Used to negotiate the applicability of the optional features defined in
table 5.1.8-1.

 

SvcExperience

3GPP TS 29.517 [22]

 

ServiceExperience

TimeWindow

3GPP TS 29.122 [19]

 

 

Uinteger

3GPP TS 29.571 [8]

Unsigned Integer, i.e. only value 0 and integers above 0 are
permissible.

 

Uri

3GPP TS 29.571 [8]

 

 

UserLocation

3GPP TS 29.571 [8]

 

UeMobility

Volume

3GPP TS 29.122 [19]

 

UeCommunication

AbnormalBehaviour

 

5.1.6.2           Structured data types
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _introduction-4:

5.1.6.2.1              Introduction
'''''''''''''''''''''''''''''''''''

This subclause defines the structures to be used in resource
representations.

5.1.6.2.2              Type NnwdafEventsSubscription
''''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.2-1: Definition of type NnwdafEventsSubscription

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

eventSubscriptions

array(EventSubscription)

M

1..N

Subscribed events

 

evtReq

ReportingInformation

O

0..1

Represents the reporting requirements of the event subscription.
(NOTE 1, NOTE 2)

If omitted, the default values within the ReportingInformation data type
apply.

 

notificationURI

Uri

C

0..1

Identifies the recipient of Notifications sent by the NWDAF.

This parameter shall be supplied by the NF service consumer in the HTTP
POST requests that create the subscriptions for event notifications and
in the HTTP PUT requests that update the subscriptions for event
notifications.

 

eventNotifications

array(EventNotification)

C

1..N

Notifications about Individual Events.

Shall only be present if the immediate reporting indication in the
"immRep" attribute within the "evtReq" attribute sets to true in the
event subscription, and the reports are available.

 

failEventReports

array(FailureEventInfo)

O

1..N

Supplied by the NWDAF When available, shall contain the event(s) for
which the subscription is not successful including the failure
reason(s).

 

supportedFeatures

SupportedFeatures

C

0..1

List of Supported features used as described in subclause 5.1.8.

This parameter shall be supplied by NF service consumer in the POST
request that request the creation of an NWDAF Event Subscriptions
resource, and shall be supplied by the NWDAF in the reply of
corresponding request.

 

NOTE 1:  If the "evtReq" attribute in the ReportingInformation data type
is provided, the notification method indicated by the "notifMethod"
attribute within the ReportingInformation data type takes preference
over the notification method indicated by the "notificationMethod"
attribute within the EventSubscription data type.

NOTE 2:  If the "evtReq" attribute in the ReportingInformation data type
is provided, the periodic reporting time indicated by the "repPeriod"
attribute in the ReportingInformation data type takes preference over
the periodic reporting time indicated by the "repetitionPeriod"
attributes in the EventSubscription data type.

 

5.1.6.2.3              Type EventSubscription
'''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.3-1: Definition of type EventSubscription

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

anySlice

AnySlice

C

0..1

Default is "FALSE". (NOTE 1)

 

appIds

array(ApplicationId)

C

1..N

Identification(s) of application to which the subscription applies.

The absence of appIds means subscription to all applications. (NOTE 8)

ServiceExperience

UeCommunication

AbnormalBehaviour

dnns

array(Dnn)

C

1..N

Identification(s) of DNN to which the subscription applies. Each DNN is
a full DNN with both the Network Identifier and Operator Identifier, or
a DNN with the Network Identifier only.

The absence of dnns means subscription to all DNNs (NOTE 8)

ServiceExperience, AbnormalBehaviour

UeCommunication

dnais

array(Dnai)

C

1..N

Identification(s) of user plane access to DN(s) which the subscription
applies.

ServiceExperience

event

NwdafEvent

M

1

Event that is subscribed.

 

extraReportReq

EventReportingRequirement

O

0..1

The extra event reporting requirement information.

 

loadLevelThreshold

integer

C

0..1

Indicates that the NWDAF shall report the corresponding network slice
load level to the NF service consumer where the load level of the
network slice identified by snssais is reached. (NOTE 4)

 

May be included when subscribed event is "SLICE_LOAD_LEVEL".

 

matchingDir

MatchingDirection

O

0..1

A matching direction may be provided alongside a threshold. If omitted,
the default value is CROSSED.

NfLoad, QoSSustainability, UserDataCongestion, NetworkPerformance

nfLoadLvlThds

array(ThresholdLevel)

C

1..N

Shall be supplied in order to start reporting when an average load level
is reached.(NOTE 4)

NfLoad

networkArea

NetworkAreaInfo

C

0..1

Identification of network area to which the subscription applies.

The absence of networkArea means subscription to all network areas.
(NOTE 7), (NOTE 8)

 

ServiceExperience UeMobility

UeCommunication

QoSSustainability

AbnormalBehaviour

UserDataCongestion

NetworkPerformance

nfInstanceIds

array(NfInstanceId)

O

1..N

Identification(s) of NF instances.

NfLoad

nfSetIds

array(NfSetId)

O

1..N

Identification(s) of NF instance sets.

NfLoad

nfTypes

array(NFType)

O

1..N

Identification(s) of NF types.

NfLoad

notificationMethod

NotificationMethod

O

0..1

Indicate the notification method. (NOTE 2)

 

nsiIdInfos

array(NsiIdInfo)

O

1..N

Each element identifies the S-NSSAI and the optionally associated
network slice instance(s).

May be included when subscribed event is "NSI_LOAD_LEVEL" or

"SERVICE_EXPERIENCE".

(NOTE 1)

ServiceExperience

NsiLoad

nsiLevelThrds

array(Uinteger)

O

1..N

Identifies the load threshold for each S-NSSAI or S-NSSAI and the
optionally associated network slice instance identified by the "nsiIds"
attribute within the "nsiIdInfos" attribute.

(NOTE 4)

NsiLoad

qosRequ

QosRequirement

C

0..1

Indicates the QoS requirements. It shall be included when subscribed
event is "QOS_SUSTAINABILITY".

QoSSustainability

qosFlowRetThds

array(RetainabilityThreshold)

C

1..N

Represents the QoS flow retainability thresholds.Shall be supplied for
the 5QI ("5qi" in "qosRequ") or resource type ("resType" in "qosRequ")
of GBR resource type. (NOTE 4)

QoSSustainability

ranUeThrouThds

array(BitRate)

C

1..N

Represents the RAN UE throughput thresholds.

Shall be supplied for the 5QI ("5qi" in "qosRequ") or resource type
("resType" in "qosRequ") of non-GBR resource type.(NOTE 4)

QoSSustainability

repetitionPeriod

DurationSec

C

0..1

Shall be supplied for notification Method "PERIODIC" by the
"notificationMethod" attribute.

 

snssais

array(Snssai)

C

1..N

Identification(s) of network slice to which the subscription applies.
(NOTE 1), (NOTE 8)

 

tgtUe

TargetUeInformation

O

0..1

Identifies target UE information.

(NOTE 3)

 

congThresholds

array(ThresholdLevel)

C

1..N

Represents the congestion threshold levels. (NOTE 4)

UserDataCongestion

nwPerfRequs

array(NetworkPerfRequirement)

C

1..N

Represents the network performance requirements. This attribute shall be
included when subscribed eventis "NETWORK_PERFORMANCE".

NetworkPerformance

bwRequs

array(BwRequirement)

O

1..N

Represents the bandwidth requirement for each application.

ServiceExperience

excepRequs

array(Exception)

C

1..N

Represents a list of Exception Ids with associated thresholds. May only
be present when subscribed event is "ABNORMAL_BEHAVIOUR".

(NOTE 5, NOTE 6)

AbnormalBehaviour

exptAnaType

ExpectedAnalyticsType

C

0..1

Represents expected UE analytics type.

It shall not be present if the "excepRequs" attribute is provided.
(NOTE 6)

AbnormalBehaviour

exptUeBehav

ExpectedUeBehaviourData

O

0..1

Represents expected UE behaviour.

AbnormalBehaviour

NOTE 1:  The "anySlice" attribute is not applicable to features
"UeMobility" and "NetworkPerformance". The "snssais" attribute is not
applicable to features "ServiceExperience", "NsiLoad", "UeMobility" and
"NetworkPerformance". When subscribed event is "SLICE_LOAD_LEVEL", the
identifications of network slices, either information about slice(s)
identified by "snssais", or "anySlice" set to "TRUE" shall be included.
When subscribed event is "QOS_SUSTAINABILITY", "NF_LOAD", "UE_COMM",
"ABNORMAL_BEHAVIOUR" or "USER_DATA_CONGESTION", the identifications of
network slices identified by "snssais" is optional. When subscribed
event is "NSI_LOAD_LEVEL" or "SERVICE_EXPERIENCE", either the
"nsiIdInfos" attribute or "anySlice" set to "TRUE" shall be included.

NOTE 2:  When notificationMethod is not supplied, the default value is
"THRESHOLD".

NOTE 3:  Applicability is further described in the corresponding data
type.

NOTE 4:  This property shall be provided if the "notifMethod" in
"evtReq" is set to "ON_EVENT_DETECTION" or "notificationMethod" in
"eventSubscriptions" is set to "THRESHOLD" or omitted.

NOTE 5:  Only "excepId" and "excepLevel" within the Exception data type
apply to the "excepRequs" attribute within EventSubscription data type.

NOTE 6:  Either "excepRequs" or "exptAnaType" shall be provided if
subscribed event is "ABNORMAL_BEHAVIOUR".

NOTE 7: For "NETWORK_PERFORMANCE", "SERVICE_EXPERIENCE" or
"USER_DATA_CONGESTION" event, this attribute shall be provided if the
event applied for all UEs (i.e. "anyUe" attribute set to true within the
"tgtUe" attribute). For "QOS_SUSTAINABILITY", this attribute shall be
provided.

NOTE 8: For "ABNORMAL_BEHAVIOUR" event with "anyUe" attribute in "tgtUe"
attribute sets to true,

-    at least one of the "networkArea" and the "snssais" attribute
should be included, if the expected analytics type via the"exptAnaType"
attribute or the list of Exception Ids via the "excepRequs" attribute is
mobility related;

-    at least one of the "networkArea", "appIds", "dnns" and "snssais"
attribute should be included, if the expected analytics type via
the"exptAnaType" attribute or the list of Exception Ids via the
"excepRequs" attribute is communication related;

-    the expected analytics type via the"exptAnaType" attribute or the
list of Exception Ids via "excepRequs" attribute shall not be requested
for both mobility and communication related analytics at the same time.

 

5.1.6.2.4              Type NnwdafEventsSubscriptionNotification
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.4-1: Definition of type
NnwdafEventsSubscriptionNotification

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

eventNotifications

array(EventNotification)

M

1..N

Notifications about Individual Events

 

subscriptionId

string

M

1

String identifying a subscription to the Nnwdaf_EventsSubscription
Service

 

 

5.1.6.2.5              Type EventNotification
'''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.5-1: Definition of type EventNotification

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

event

NwdafEvent

M

1

Event that is notified.

 

expiry

DateTime

O

0..1

It defines the expiration time after which the analytics information
will become invalid.

 

timeStampGen

DateTime

O

0..1

It defines the timestamp of analytics generation.

 

nwPerfs

array(NetworkPerfInfo)

C

1..N

The network performance information.

NetworkPerformance

nfLoadLevelInfos

array(NfLoadLevelInformation)

C

1..N

The NF load level information. When subscribed event is "NF_LOAD", the
nfLoadLevelInfos shall be included.

NfLoad

nsiLoadLevelInfos

array(NsiLoadLevelInfo)

C

1..N

Each element identifies the load level information for each S-NSSAI and
the optionally associated network slice instance.

Shall be included when subscribed event is "NSI_LOAD_LEVEL".

NsiLoad

qosSustainInfos

array(QosSustainabilityInfo)

C

1..N

The QoS sustainability information.

When subscribed event is "QOS_SUSTAINABILITY", the qosSustainInfos shall
be included.

QoSSustainability

sliceLoadLevelInfo

SliceLoadLevelInformation

C

0..1

The slices and the load level information.

When subscribed event is "SLICE_LOAD_LEVEL", the sliceLoadLevelInfo
shall be included.

 

svcExps

array(ServiceExperienceInfo)

C

1..N

The service experience information.

When subscribed event is "SERVICE_EXPERIENCE", the svcExps shall be
included.

ServiceExperience

ueComms

array(UeCommunication)

C

1..N

The UE communication information.

When subscribed event is "UE_COMM", the ueComms shall be included.

UeCommunication

ueMobs

array(UeMobility)

C

1..N

The UE mobility information.

When subscribed event is "UE_MOBILITY", the ueMobs shall be included.

UeMobility

abnorBehavrs

array(AbnormalBehaviour)

C

1..N

The Abnormal Behaviour information.

When subscribed event is "ABNORMAL_BEHAVIOUR", the abnorBehavrs shall be
included.

AbnormalBehaviour

userDataCongInfos

array(UserDataCongestionInfo)

C

1..N

The location and user data congestion information.

Shall be present if the subscribed event is "USER_DATA_CONGESTION".

UserDataCongestion

 

5.1.6.2.6              Type SliceLoadLevelInformation
'''''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.6-1: Definition of type SliceLoadLevelInformation

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

loadLevelInformation

LoadLevelInformation

M

1

Load level information which applies for each network slice identified
by snssais.

 

snssais

array(Snssai)

M

1..N

Identification(s) of network slice to which the subscription applies.

 

 

5.1.6.2.7              Type EventReportingRequirement
'''''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.7-1: Definition of type EventReportingRequirement

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

accuracy

Accuracy

O

0..1

Preferred level of accuracy of the analytics.

 

startTs

DateTime

O

0..1

UTC time indicating the start time of the observation period.

The absence of this attribute means subscription at the present time.

 

endTs

DateTime

O

0..1

UTC time indicating the end time of the observation period.

If the start time is in the past, then the absence of this attribute
means that the end time of the subscription is at the present time.

If provided, it shall not be less than the start time.

 

sampRatio

SamplingRatio

O

0..1

Percentage of sampling (1%...100%) among impacted UEs.

Applicable to event targeting a group of UEs or any UE.

(NOTE)

 

maxSupiNbr

Uinteger

O

0..1

Represents the maximum number of SUPIs expected in an object.

Applicable for the event(s) providing a list of SUPIs during the
analyticis response.

 

maxObjectNbr

Uinteger

O

0..1

Maximum number of objects expected for an analytics report. It's only
applicable for the event(s) which may provide more than one entries or
objects during event notification.

 

timeAnaNeeded

DateTime

O

0..1

UTC time indicating the time when analytics information is needed.
(NOTE)

 

NOTE:     The "sampRatio" attribute and the "timeAnaNeeded" attribute
within EventReportingRequirement data type is not applicable for the
Nnwdaf_EventsSubscription API.

 

5.1.6.2.8              Type TargetUeInformation
'''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.8-1: Definition of type TargetUeInformation

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

anyUe

boolean

O

0..1

Identifies any UE when setting to true.

ServiceExperience

NetworkPerformance

NfLoad

UserDataCongestion

AbnormalBehaviour

QoSSustainability

supis

array(Supi)

O

1..N

Identifies a SUPI for an UE.

(NOTE 2)

UeMobility

UeCommunication

NetworkPerformance

AbnormalBehaviour

UserDataCongestion

NfLoad

ServiceExperience

intGroupIds

array(GroupId)

O

1..N

Represents an internal group identifier and identifies a group of UEs.

(NOTE 2)

UeMobility

UeCommunication

NetworkPerformance

AbnormalBehaviour

ServiceExperience

NOTE 1:  For an applicable feature, only one attribute identifying the
target UE shall be provided.

NOTE 2:  Only one element in the attribute shall be provided for the
applicable events except the "SERVICE_EXPERIENCE" event.

 

5.1.6.2.9              Void
'''''''''''''''''''''''''''

5.1.6.2.10            Type UeMobility
'''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.10-1: Definition of type UeMobility

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

ts

DateTime

C

0..1

This attribute identifies the timestamp when the UE arrives the
location. (NOTE 1)

 

recurringTime

ScheduledCommunicationTime

C

0..1

Identifies time of the day and day of the week which are valid within
the observation period when the UE moves. (NOTE 1, NOTE 2)

 

duration

DurationSec

M

1

This attribute identifies the time duration the UE stays in the
location.

If the analytics result applies for a group of UEs, it indicates the
average duration for the group of UEs.

 

durationVariance

Float

C

0..1

This attribute indicates the variance of the analysed durations for the
group of UEs. It shall be provided if the analytics result applies for a
group of UEs.

 

locInfos

array(LocationInfo)

M

1..N

This attribute includes a list of UE location information during the
time duration.

 

NOTE 1:  Either ts or recurringTime shall be provided.

NOTE 2:  If this attribute is present, it indicates the UE movement is
periodic. This attribute is suitable to be present for a recurring
mobility in a long observation time.

 

5.1.6.2.11            Type LocationInfo
'''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.11-1: Definition of type LocationInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

loc

UserLocation

M

1

This attribute contains the detailed location, the ueLocationTimestamp
attribute in the 3GPP access type of UserLocation data type shall not be
provided.

 

ratio

SamplingRatio

C

0..1

This attribute contains the percentage of UEs with same analytics result
in the group.

Shall be present if the analytics result applies for a group of UEs.

 

confidence

Uinteger

C

0..1

Indicates the confidence of the prediction. (NOTE)

Shall be present if the analytics result is a prediction.

Minimum = 0. Maximum = 100.

 

NOTE:     If the requested period identified by the "startTs" and
"endTs" attributes in the "EventReportingRequirement" type is a future
time period, which means the analytics result is a prediction. If no
sufficient data is collected to provide the confidence of the prediction
before the time deadline, the NWDAF shall return a zero confidence.

 

.. _void-1:

5.1.6.2.12            Void
''''''''''''''''''''''''''

5.1.6.2.13            Type UeCommunication
''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.13-1: Definition of type UeCommunication

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

commDur

DurationSec

M

0..1

Identifies the duration of the communication.

If the analytics result applies for a group of UEs, it indicates the
average duration for the subset of UEs indicated by a given ratio in the
group.

 

commDurVariance

Float

C

0..1

This attribute indicates the variance of the analysed durations for the
subset of UEs indicated by a given ratio in the group. It shall be
provided if the analytics result applies for a group of UEs.

 

perioTime

DurationSec

O

0..1

Identifies interval time of periodic communication, e.g. every 10
minutes or 1 hour. (NOTE 2)

If the analytics result applies for a group of UEs, it indicates the
average interval time of periodic communication for the subset of UEs
indicated by a given ratio in the group.

 

perioTimeVariance

Float

C

0..1

This attribute indicates the variance of the analysed intervals of
periodic communication for the subset of UEs indicated by a given ratio
in the group. It shall be provided if the analytics result applies for a
group of UEs.

 

ts

DateTime

C

0..1

Identifies the start time of the communication. (NOTE 1)

 

tsVariance

Float

O

0..1

This attribute indicates the variance of the analysed start time for the
subset of UEs indicated by a given ratio in the group. It may only be
provided if the ts attribute is provided.

 

recurringTime

ScheduledCommunicationTime

C

0..1

Identifies time of the day and day of the week which are valid within
the observation period when the UE has communication. Providing the end
time in ScheduledCommunicationTime data type is not required. (NOTE 1,
NOTE 3)

 

trafChar

TrafficCharacterization

M

1

Identifies the detailed traffic characterization.

 

ratio

SamplingRatio

C

0..1

This attribute contains the percentage of UEs with same analytics result
in the group.

Shall be present if the analytics result applies for a group of UEs.

 

confidence

Uinteger

C

0..1

Indicates the confidence of the prediction. (NOTE 4)

Shall be present if the analytics result is a prediction.

Minimum = 0. Maximum = 100.

 

NOTE 1:  Either ts or recurringTime shall be provided.

NOTE 2:  If this attribute is present, it indicates the communication is
periodic and its value shall be larger than the commDur value. If this
attribute is present with the ts attribute, it indicates the periodic
communication time valid within the observation period; if it is present
with the recurringTime attribute, it indicates the periodic
communication time valid within the day(s).

NOTE 3:  If this attribute is present, it indicates the communication is
periodic. This attribute is suitable to be present for a recurring
communication in a long observation time.

NOTE 4:  If the requested period identified by the "startTs" and "endTs"
attributes in the "EventReportingRequirement" type is a future time
period, which means the analytics result is a prediction. If no
sufficient data is collected to provide the confidence of the prediction
before the time deadline, the NWDAF shall return a zero confidence.

 

5.1.6.2.14            Type TrafficCharacterization
''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.14-1: Definition of type TrafficCharacterization

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

appId

ApplicationId

O

0..1

Contains the application identifier.

 

dnn

Dnn

O

0..1

Identifies DNN, a full DNN with both the Network Identifier and Operator
Identifier, or a DNN with the Network Identifier only.

Shall be present if the "dnns" was provided within EventSubscription
during the subscription for event notification procedure.

 

snssai

Snssai

C

0..1

Identifies the network slice.

Shall be present if the "snssais" was provided within EventSubscription
during the subscription for event notification procedure.

 

fDescs

array(IpEthFlowDescription)

O

1..2

Contains the flow description for the Uplink and/or Downlink flows.

 

ulVol

Volume

C

0..1

Identifies the uplink traffic volume. (NOTE)

If the analytics result applies for a group of UEs, it indicates the
average uplink traffic volume for the subset of UEs indicated by a given
ratio in the group.

 

ulVolVariance

Float

C

0..1

This attribute indicates the variance of the uplink traffic volumes for
the subset of UEs indicated by a given ratio in the group. It shall be
provided if the analytics result applies for a group of UEs.

 

dlVol

Volume

C

0..1

Identifies the downlink traffic volume. (NOTE)

If the analytics result applies for a group of UEs, it indicates the
average downlink traffic volume for the subset of UEs indicated by a
given ratio in the group.

 

dlVolVariance

Float

C

0..1

This attribute indicates the variance of the downlink traffic volumes
for the subset of UEs indicated by a given ratio in the group. It shall
be provided if the analytics result applies for a group of UEs.

 

NOTE:     At least one of ulVol or dlVol shall be provided.

 

5.1.6.2.15            Type AbnormalBehaviour
''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.15-1: Definition of type AbnormalBehaviour

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

supis

array(Supi)

C

1..N

Each element identifies a UE which is affected with the Exception.

Shall be present if the subscription request applies to more than one
UE.

 

dnn

Dnn

C

0..1

Identifies DNN, a full DNN with both the Network Identifier and Operator
Identifier, or a DNN with the Network Identifier only.

Shall be present if the "dnns" was provided within EventSubscription
during the subscription for event notification procedure.

 

excep

Exception

M

1

Contains the exception information.

 

snssai

Snssai

C

0..1

Identifies the network slice information.

Shall be present if the "snssais" was provided within EventSubscription
during the subscription for event notification procedure.

 

ratio

SamplingRatio

C

0..1

Contains the percentage of UEs with same analytics result in the group
or among all UEs.

Shall be present if the analytics result applies for a group of UEs or
any UE.

 

confidence

Uinteger

C

0..1

Indicates the confidence of the prediction. (NOTE)

Shall be present if the analytics result is a prediction.

Minimum = 0. Maximum = 100.

 

addtMeasInfo

AdditionalMeasurement

O

0..1

Additional measurement.

 

NOTE:     If the requested period identified by the "startTs" and
"endTs" attributes in the "EventReportingRequirement" type is a future
time period, which means the analytics result is a prediction. If no
sufficient data is collected to provide the confidence of the prediction
before the time deadline, the NWDAF shall return a zero confidence.

 

5.1.6.2.16            Type Exception
''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.16-1: Definition of type Exception

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

excepId

ExceptionId

M

1

Indicating the Exception ID.

 

excepLevel

integer

O

0..1

Measured level, compared to the threshold

 

excepTrend

ExceptionTrend

O

0..1

Measured trend

 

 

5.1.6.2.17            Type UserDataCongestionInfo
'''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.17-1: Definition of type UserDataCongestionInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

networkArea

NetworkAreaInfo

M

1

Identification of network area to which the subscription applies.

 

congestionInfo

CongestionInfo

M

1

The congestion information of the specific location.

 

snssai

Snssai

C

0..1

Identifies an S-NSSAI.

Shall be present if the "snssais" was provided within EventSubscription
during the subscription for event notification procedure.

 

 

5.1.6.2.18            Type CongestionInfo
'''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.18-1: Definition of type CongestionInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

congType

CongestionType

M

1

Identification congestion analytics type.

 

timeIntev

TimeWindow

M

1

Represents the start time and the stop time to which the congestion
information applies.

 

nsi

ThresholdLevel

M

1

Network Status Indication.

 

confidence

Uinteger

C

0..1

Indicates the confidence of the prediction. (NOTE)

Shall be present if the analytics result is a prediction.

Minimum = 0. Maximum = 100.

 

NOTE:     If the requested period identified by the "startTs" and
"endTs" attributes in the EventReportingRequirement type is a future
time period, which means the analytics result is a prediction. If no
sufficient data is collected to provide the confidence of the prediction
before the time deadline, the NWDAF shall return a zero confidence.

 

5.1.6.2.19            Type QosSustainabilityInfo
''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.19-1: Definition of type QosSustainabilityInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

areaInfo

NetworkAreaInfo

M

1

Identification(s) of applicable location areas to which the
subscription.

 

startTs

DateTime

M

1

Represents the start time of the applicable observing period.

 

endTs

DateTime

M

1

Represents the end time of the applicable observing period.

 

qosFlowRetThd

RetainabilityThreshold

C

0..1

The reporting QoS Flow Retainability Threshold that are met or crossed
for 5QI of GBR resource type.

(NOTE 1)

 

ranUeThrouThd

BitRate

C

0..1

The reporting RAN UE Throughput Threshold that are met or crossed for
5QI of non-GBR resource type.

(NOTE 1)

 

snssai

Snssai

C

0..1

Identifies an S-NSSAI.

Shall be present if the "snssais" was provided within EventSubscription
during the subscription for event notification procedure.

 

confidence

Uinteger

C

0..1

Indicates the confidence of the prediction. (NOTE 2)

Shall be present if the analytics result is a prediction.

Minimum = 0. Maximum = 100.

 

NOTE 1:  Either "qosFlowRetThd" or "ranUeThrouThd" attribute shall be
provided.

NOTE 2:  If the requested period identified by the "startTs" and "endTs"
attributes in the EventReportingRequirement type is a future time
period, which means the analytics result is a prediction. If no
sufficient data is collected to provide the confidence of the prediction
before the time deadline, the NWDAF shall return a zero confidence.

 

5.1.6.2.20            Type QosRequirement
'''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.20-1: Definition of type QosRequirement

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

5qi

5Qi

C

0..1

Represents a 5G QoS Identifier. It shall be included for standardized or
preconfigured 5QIs. (NOTE)

 

gfbrUl

BitRate

C

0..1

Indicates GFBR in the uplink.

It shall be included for GBR 5QIs.

 

gfbrDl

BitRate

C

0..1

Indicates GFBR in the downlink.

It shall be included for GBR 5QIs.

 

resType

QosResourceType

C

0..1

Resource type.

Shall be provided for the non-standardized and non-preconfigured QoS
characteristics. (NOTE)

 

pdb

PacketDelBudget

O

0..1

Packet Delay Budget.

May be supplied for the non-standardized and non-pre-configured QoS
characteristics.

 

per

PacketErrRate

O

0..1

Packet Error Rate.

May be supplied for the non-standardized and non-pre-configured QoS
characteristics.

 

NOTE:     Either 5QI within "5qi" attribute or the resource type within
"resType" attribute shall be provided.

 

5.1.6.2.21            Type RetainabilityThreshold
'''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.21-1: Definition of type RetainabilityThreshold

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

relFlowNum

Uinteger

C

0..1

Represents the number of abnormally released QoS flows. (NOTE)

 

relTimeUnit

TimeUnit

C

0..1

Represents the unit for the session active time, shall be present if
relFlowNum is present. (NOTE)

 

relFlowRatio

SamplingRatio

C

0..1

Represents the ratio of abnormally released QoS flows to the total
released QoS flows, expressed in percentage. (NOTE)

 

NOTE:     Either "relFlowNum" and its associated "relTimeUnit"
attributes or "relFlowRatio" attribute shall be provided. "relFlowNum"
and "relTimeUnit" attributes together represent the number of abnormally
released QoS flows (i.e. relFlowNum) within the time unit (i.e.
relTimeUnit).

 

5.1.6.2.22            Type NetworkPerfRequirement
'''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.22-1: Definition of type NetworkPerfRequirement

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

nwPerfType

NetworkPerfType

M

1

The type of the network performance.

 

relativeRatio

SamplingRatio

C

0..1

The relative ratio expressed in percentage. (NOTE)

 

absoluteNum

Uinteger

C

0..1

The absolute number (NOTE)

 

NOTE:     Either relativeRatio or absoluteNum shall be provided if the
"notifMethod" in "evtReq" is set to "ON_EVENT_DETECTION" or
"notificationMethod" in "eventSubscriptions" is set to "THRESHOLD" or
omitted.

 

5.1.6.2.23            Type NetworkPerfInfo
''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.23-1: Definition of type NetworkPerfInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

networkArea

NetworkAreaInfo

M

1

Identification of network area to which the subscription applies.

 

nwPerfType

NetworkPerfType

M

1

The type of the network performance

 

relativeRatio

SamplingRatio

C

0..1

The reported relative ratio expressed in percentage. (NOTE 1)

 

absoluteNum

Uinteger

C

0..1

The reported absolute number (NOTE 1)

 

confidence

Uinteger

C

0..1

Indicates the confidence of the prediction. (NOTE 2)

Shall be present if the analytics result is a prediction.

Minimum = 0. Maximum = 100.

 

NOTE 1:  Either relativeRatio or absoluteNum shall be provided.

NOTE 2:  If the requested period identified by the "startTs" and "endTs"
attributes in the "EventReportingRequirement" type is a future time
period, which means the analytics result is a prediction. If no
sufficient data is collected to provide the confidence of the prediction
before the time deadline, the NWDAF shall return a zero confidence.

 

5.1.6.2.24            Type ServiceExperienceInfo
''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.24-1: Definition of type ServiceExperienceInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

svcExprc

SvcExperience

M

1

Service experience

 

svcExprcVariance

Float

O

0..1

This attribute indicates the variance .

 

supis

array(Supi)

O

1..N

Each element identifies a UE.

May only be present if the subscription request applies to more than one
UE.

 

snssai

Snssai

C

0..1

Identifies an S-NSSAI.

Shall be presented if the "snssais" was provided within
EventSubscription during the subscription for event notification
procedure.

 

appId

ApplicationId

C

0..1

Identifies an application.

Shall be present if the "appIds" was provided within EventSubscription
during the subscription for event notification procedure.

 

confidence

Uinteger

C

0..1

Indicates the confidence of the prediction. (NOTE)

Shall be present if the analytics result is a prediction.

Minimum = 0. Maximum = 100.

 

dnn

Dnn

C

0..1

Identifies DNN, a full DNN with both the Network Identifier and Operator
Identifier, or a DNN with the Network Identifier only.

Shall be present if the "dnns" was provided within EventSubscription
during the subscription for event notification procedure.

 

networkArea

NetworkAreaInfo

C

0..1

Identifies the network area where the service experience applies. Shall
be presented if the "networkArea" was provided within EventSubscription
during the subscription for event notification procedure.

 

nsiId

NsiId

C

0..1

Identifies a network slice instance which is associated with the S-NSSAI
identified by the "snssai" attribute.

Shall be presented if the "nsiIds" was provided within the NsiIdInfo
data in the EventSubscription data during the subscription.

 

ratio

SamplingRatio

C

0..1

Contains the percentage of UEs with same analytics result in the group
or among all UEs.

Shall be present if the analytics result applies for a group of UEs or
any UE.

 

NOTE:     If the requested period identified by the "startTs" and
"endTs" attributes in the "EventReportingRequirement" type is a future
time period, which means the analytics result is a prediction. If no
sufficient data is collected to provide the confidence of the prediction
before the time deadline, the NWDAF shall return a zero confidence.

 

5.1.6.2.25            Type BwRequirement
''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.25-1: Definition of type BwRequirement

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

appId

ApplicationId

M

1

Represents an application.

(NOTE)

 

marBwUl

BitRate

O

0..1

Maximum requested bandwidth for the Uplink.

 

marBwDl

BitRate

O

0..1

Maximum requested bandwidth for the Downlink.

 

mirBwUl

BitRate

O

0..1

Minimum requested bandwidth for the Uplink.

 

mirBwDl

BitRate

O

0..1

Minimum requested bandwidth for the Downlink.

 

NOTE:     If the "appIds" attribute is provided within EventSubscription
data, this attribute shall be indicated by the "appIds" attribute.

 

5.1.6.2.26            Type AdditionalMeasurement
''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.26-1: Definition of type AdditionalMeasurement

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

unexpLoc

NetworkAreaInfo

C

0..1

The unexpected locations which the UE stays.

It may only be present when the "excepId" within the Exception data sets
to "UNEXPECTED_UE_LOCATION"

 

unexpFlowTeps

array(IpEthFlowDescription)

C

1..N

Unexpected IP or Ethernet flow templates.

It may only be present when the "excepId" within the Exception data sets
to "UNEXPECTED_LONG_LIVE_FLOW" or "UNEXPECTED_LARGE_RATE_FLOW".

 

unexpWakes

array(DateTime)

C

1..N

Unexpected wake up times.

It may only be present when the "excepId" within the Exception data sets
to "UNEXPECTED_WAKEUP".

 

ddosAttack

AddressList

C

0..1

Victim's address list.

It may only be present when the "excepId" within the Exception data sets
to "SUSPICION_OF_DDOS_ATTACK".

 

wrgDest

AddressList

C

0..1

Wrong destination address list.

It may only be present when the "excepId" within the Exception data sets
to "WRONG_DESTINATION_ADDRESS".

 

circums

array(CircumstanceDescription)

C

1..N

The description of circumstances.

It may only be present when the "excepId" within the Exception data sets
to "TOO_FREQUENT_SERVICE_ACCESS", "UNEXPECTED_RADIO_LINK_FAILURES" or
"PING_PONG_ACROSS_CELLS".

 

 

5.1.6.2.27            Type IpEthFlowDescription
'''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.27-1: Definition of type FlowDescription

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

ipTrafficFilter

FlowDescription

C

0..1

Identifies IP packet filter.(NOTE)

 

ethTrafficFilter

EthFlowDescription

C

0..1

Identifies Ethernet packet filter.(NOTE)

 

NOTE:     Either "ipTrafficFilter" or "ethTrafficFilter" shall be
provided.

 

5.1.6.2.28            Type AddressList
''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.28-1: Definition of type AddressList

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

ipv4Addrs

array(Ipv4Addr)

O

1..N

Each element identifies an IPv4 address.

 

ipv6Addrs

array(Ipv6Addr)

O

1..N

Each element identifies an IPv6 address.

 

NOTE:     At least one of "ipv4Addrs" or "ipv6Addrs" shall be provided.

 

5.1.6.2.29            Type CircumstanceDescription
''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.29-1: Definition of type CircumstanceDescription

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

freq

Float

O

0..1

Communication frequency of the UE in units of MHz.

 

tm

DateTime

O

0..1

Time when UE enters the location.

 

locArea

NetworkAreaInfo

C

0..1

The location of the UE.

It shall be present when the "excepId" within the Exception data sets to
"UNEXPECTED_RADIO_LINK_FAILURES" or "PING_PONG_ACROSS_CELLS".

 

vol

Volume

C

0..1

The traffic volume.

It shall be present when the "excepId" within the Exception data sets to
"TOO_FREQUENT_SERVICE_ACCESS" or "UNEXPECTED_LARGE_RATE_FLOW ".

 

 

5.1.6.2.30            Type ThresholdLevel
'''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.30 -1: Definition of type ThresholdLevel

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

congLevel

integer

C

0..1

Value of Congestion that triggers notification (NOTE 1)

UserDataCongestion

nfLoadLevel

integer

C

0..1

Value of NF Load that triggers notification (NOTE 2)

NfLoad

nfCpuUsage

integer

C

0..1

Value of NF CPU Usage that triggers notification (NOTE 2)

NfLoad

nfMemoryUsage

integer

C

0..1

Average usage of memory (NOTE 2)

NfLoad

nfStorageUsage

integer

C

0..1

Average usage of storage (NOTE 2)

NfLoad

NOTE 1:  This attribute shall be provided when subscribed event is
"USER_DATA_CONGESTION".

NOTE 2:  At least one attribute should be provided when subscribed event
is "NF_LOAD".

 

5.1.6.2.31            Type NfLoadLevelInformation
'''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.31-1: Definition of type NfLoadLevelInformation

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

nfType

NFType

M

1

Type of the NF instance

 

nfInstanceId

NfInstanceId

M

1

Identification of the NF instance

 

nfSetId

NfSetId

O

0..1

Identification of the NF instance set

 

nfStatus

NfStatus

C

0..1

Availability status of the NF

(NOTE 1)

 

nfCpuUsage

integer

C

0..1

Average usage CPU (NOTE 1) (NOTE 2)

 

nfMemoryUsage

integer

C

0..1

Average usage of memory (NOTE 1) (NOTE 2)

 

nfStorageUsage

integer

C

0..1

Average usage of storage (NOTE 1) (NOTE 2)

 

nfLoadLevelAverage

integer

C

0..1

Average load information (NOTE 1)  (NOTE 2)

 

nfLoadLevelPeak

integer

C

0..1

Peak load information(NOTE 1) (NOTE 2)

 

snssai

Snssai

C

0..1

Identifies an S-NSSAI.

Shall be present if the "snssais" was provided within EventSubscription
during the subscription for event notification procedure.

 

confidence

Uinteger

C

0..1

Indicates the confidence of the prediction. (NOTE 3)

Shall be present if the analytics result is a prediction.

Minimum = 0. Maximum = 100.

 

NOTE 1:  At least one value shall be provided.

NOTE 2:  The values are percentages which are provided as estimated over
a given period.

NOTE 3:  If the requested period identified by the "startTs" and "endTs"
attributes in the "EventReportingRequirement" type is a future time
period, which means the analytics result is a prediction. If no
sufficient data is collected to provide the confidence of the prediction
before the time deadline, the NWDAF shall return a zero confidence.

 

5.1.6.2.32            Type NfStatus
'''''''''''''''''''''''''''''''''''

Table 5.1.6.2.32-1: Definition of type NfStatus

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

statusRegistered

SamplingRatio

C

0..1

Percentage of time with status "registered" (NOTE)

 

statusUnregistered

SamplingRatio

C

0..1

Percentage of time with status "unregistered" (NOTE)

 

statusUndiscoverable

SamplingRatio

C

0..1

Percentage of time with status "undiscoverable" (NOTE)

 

NOTE:     The availability statuses of the NF on the Analytics target
period are expressed as a percentage of time. The total of status values
should be equal or lower than 100%. At least one value shall be
provided.

 

5.1.6.2.33            Type NsiIdInfo
''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.33-1: Definition of type NsiIdInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

snssai

Snssai

M

1

Identification of network slice to which the subscription for event
notification procedure applies.

 

nsiIds

array(NsiId)

O

1..N

Identification of network slice instance(s) associated with the
subscribed S-NSSAI identified by the "snssai" attribute.

May be included when subscribed event is "NSI_LOAD_LEVEL" or

"SERVICE_EXPERIENCE".

 

(NOTE)

 

NOTE:     This attribute is not applicable when the NF service consumer
is CEF or PCF.

 

5.1.6.2.34            Type NsiLoadLevelInfo
'''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.34-1: Definition of type NsiLoadLevelInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

loadLevelInformation

LoadLevelInformation

M

1

Load level information of the network slice identified by the "snssai"
attribute and if provided, the associated NSI ID identified by the
"nsiId" attribute.

 

snssai

Snssai

M

1

Identification of network slice to which the subscription applies.

 

nsiId

NsiId

C

0..1

Identification of network slice instance associated with the S-NSSAI
identified by the "snssai" attribute.

Shall be presented if the "nsiIds" attribute was provided within the
NsiIdInfo data in the EventSubscription data during the subscription.

 

 

5.1.6.2.35            Type FailureEventInfo
'''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.2.35-1: Definition of type FailureEventInfo

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

event

NwdafEvent

M

1

Event that is subscribed.

 

failureCode

NwdafFailureCode

M

1

Identifies the failure reason

 

 

5.1.6.3           Simple data types and enumerations
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _introduction-5:

5.1.6.3.1              Introduction
'''''''''''''''''''''''''''''''''''

This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.

5.1.6.3.2              Simple data types
''''''''''''''''''''''''''''''''''''''''

The simple data types defined in table 5.1.6.3.2-1 shall be supported.

Table 5.1.6.3.2-1: Simple data types

.. container::

   Type Name

Type Definition

Description

Applicability

AnySlice

boolean

"FALSE" represents not applicable for all slices.

"TRUE" represents applicable for all slices.

 

LoadLevelInformation

integer

Load level information of the network slice and the optionally
associated network slice instance.

 

 

5.1.6.3.3              Enumeration: NotificationMethod
''''''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.3-1: Enumeration NotificationMethod

Enumeration value

Description

Applicability

PERIODIC

The subscription of NWDAF Event is peridodicly. The periodic of the
notification is identified by repetitionPeriod defined in
subclause 5.1.6.2.3.

 

THRESHOLD

The subscription of NWDAF Event is upon threshold exceeded.

 

 

5.1.6.3.4              Enumeration: NwdafEvent
''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.4-1: Enumeration NwdafEvent

Enumeration value

Description

Applicability

NF_LOAD

Indicates that the event subscribed is NF Load.

NfLoad

QOS_SUSTAINABILITY

Indicates that the event subscribed is QoS sustainability.

QoSSustainability

SLICE_LOAD_LEVEL

Indicates that the event subscribed is load level information of Network
Slice

 

SERVICE_EXPERIENCE

Indicates that the event subscribed is service experience.

ServiceExperience

UE_MOBILITY

Indicates that the event subscribed is UE mobility information.

UeMobility

UE_COMM

Indicates that the event subscribed is UE communication information.

UeCommunication

ABNORMAL_BEHAVIOUR

Indicates that the event subscribed is abnormal behaviour information.

AbnormalBehaviour

USER_DATA_CONGESTION

Indicates that the event subscribed is user data congestion information

UserDataCongestion

NETWORK_PERFORMANCE

Indicates that the event subscribed is network performance information

NetworkPerformance

NSI_LOAD_LEVEL

Indicates that the event subscribed is load level information of Network
Slice and the optionally associated Network Slice Instance

NsiLoad

 

5.1.6.3.5              Enumeration: Accuracy
''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.5-1: Enumeration Accuracy

.. container::

   Enumeration value

Description

Applicability

LOW

Low accuracy.

 

HIGH

High accuracy.

 

 

5.1.6.3.6              Enumeration: ExceptionId
'''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.6-1: Enumeration ExceptionId

.. container::

   Enumeration value

Description

Applicability

UNEXPECTED_UE_LOCATION

Unexpected UE location

 

UNEXPECTED_LONG_LIVE_FLOW

Unexpected long-live rate flows

 

UNEXPECTED_LARGE_RATE_FLOW

Unexpected large rate flows

 

UNEXPECTED_WAKEUP

Unexpected wakeup

 

SUSPICION_OF_DDOS_ATTACK

Suspicion of DDoS attack

 

WRONG_DESTINATION_ADDRESS

Wrong destination address

 

TOO_FREQUENT_SERVICE_ACCESS

Too frequent Service Access

 

UNEXPECTED_RADIO_LINK_FAILURES

Unexpected radio link failures

 

PING_PONG_ACROSS_CELLS

Ping-ponging across neighbouring cells

 

 

5.1.6.3.7              Enumeration: ExceptionTrend
''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.7-1: Enumeration ExceptionTrend

.. container::

   Enumeration value

Description

Applicability

UP

Up trend of the exception level.

 

DOWN

Down trend of the exception level.

 

UNKNOWN

Unknown trend of the exception level.

 

STABLE

Stable trend of the exception level.

 

 

5.1.6.3.8              Enumeration: CongestionType
''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.8-1: Enumeration CongestionType

Enumeration value

Description

Applicability

USER_PLANE

The congestion analytics type is User Plane.

 

CONTROL_PLANE

The congestion analytics type is Control Plane.

 

USER_AND\_CONTROL_PLANE

The congestion analytics type is User Plane and Control Plane.

 

 

5.1.6.3.9              Enumeration: TimeUnit
''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.9-1: Enumeration TimeUnit

Enumeration value

Description

Applicability

MINUTE

Time unit is per minute.

 

HOUR

Time unit is per hour.

 

DAY

Time unit is per day.

 

 

5.1.6.3.10            Enumeration: NetworkPerfType
''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.10-1: Enumeration NetworkPerfType

Enumeration value

Description

Applicability

GNB_ACTIVE_RATIO

Indicates the ratio of gNB active (i.e. up and running) number to the
total number of gNB.

 

GNB_COMPUTING_USAGE

Indicates gNodeB computing resource usage.

 

GNB_MEMORY_USAGE

Indicates gNodeB memory usage.

 

GNB_DISK_USAGE

Indicates gNodeB disk usage.

 

NUM_OF_UE

Indicates number of UEs.

 

SESS_SUCC_RATIO

Indicates ratio of successful setup of PDU sessions to total PDU session
setup attempts.

 

HO_SUCC_RATIO

Indicates Ratio of successful handovers to the total handover attempts.

 

 

5.1.6.3.11            Enumeration: ExpectedAnalyticsType
''''''''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.11-1: Enumeration ExpectedAnalyticsType

Enumeration value

Description

Applicability

MOBILITY

Mobility related abnormal behaviour analytics is expected by the
consumer

 

COMMUN

Communication related abnormal behaviour analytics is expected by the
consumer

 

MOBILITY_AND_COMMUN

Both mobility and communication related abnormal behaviour analytics is
expected by the consumer

 

 

5.1.6.3.12            Enumeration: MatchingDirection
''''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.12-1: Enumeration MatchingDirection

Enumeration value

Description

Applicability

ASCENDING

Threshold is crossed in ascending direction.

 

DESCENDING

Threshold is crossed in descending direction.

 

CROSSED

Threshold is crossed either in ascending or descending direction.

 

 

5.1.6.3.13            Enumeration: NwdafFailureCode
'''''''''''''''''''''''''''''''''''''''''''''''''''

Table 5.1.6.3.13-1: Enumeration NwdafFailureCode

Enumeration value

Description

Applicability

UNAVAILABLE_DATA

Indicates the requested statistics information for the event is rejected
since necessary data to perform the service is unavailable.

 

BOTH_STAT_PRED_NOT_ALLOWED

Indicates the requested analysis information for the event is rejected
since the start time is in the past and the end time is in the future,
which means the NF service consumer requested both statistics and
prediction for the analytics.

 

OTHER

Indicates the requested analysis information for the event is rejected
due to other reasons.

 

 

5.1.7      Error handling
~~~~~~~~~~~~~~~~~~~~~~~~~

.. _general-8:

5.1.7.1           General
^^^^^^^^^^^^^^^^^^^^^^^^^

HTTP error handling shall be supported as specified in subclause 5.2.4
of 3GPP TS 29.500 [6].

For the Nnwdaf_EventsSubscription API, HTTP error responses shall be
supported as specified in subclause 4.8 of 3GPP TS 29.501 [7].

Protocol errors and application errors specified in table 5.2.7.2-1 of
3GPP TS 29.500 [6] shall be supported for an HTTP method if the
corresponding HTTP status codes are specified as mandatory for that HTTP
method in table 5.2.7.1-1 of 3GPP TS 29.500 [6].

In addition, the requirements in the following subclauses shall apply.

5.1.7.2           Protocol Errors
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

In this Release of the specification, there are no additional protocol
errors applicable for the Nnwdaf_EventsSubscription API.

5.1.7.3           Application Errors
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The application errors defined for the Nnwdaf_EventsSubscription API are
listed in table 5.1.7.3-1.

Table 5.1.7.3-1: Application errors

.. container::

   Application Error

HTTP status code

Description

SUBSCRIPTION_NOT_FOUND

404 Not Found

Indicates the Individual NWDAF Event Subscription resource does not
exist. (NOTE)

BOTH_STAT_PRED_NOT_ALLOWED

400 Bad Request

For the requested observation period, the start time is in the past and
the end time is in the future, which means the NF service consumer
requested both statistics and prediction for the analytics.

UNAVAILABLE_DATA

500 Internal Server Error

Indicates the requested statistics in the past is rejected since
necessary data to perform the service is unavailable.

NOTE 1:  This application error is only applicable for the responses to
the PUT request (see subclause 4.2.2.2.3)and the DELETE request (see
subclause 4.2.2.3.2).

NOTE 2:  Including a "ProblemDetails" data structure with the "cause"
attribute in the HTTP response is optional unless explicitly mandated in
the service operation subclauses.

 

5.1.8      Feature negotiation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The optional features in table 5.1.8-1 are defined for the
Nnwdaf_EventsSubscription API. They shall be negotiated using the
extensibility mechanism defined in subclause 6.6 of 3GPP TS 29.500 [6].

Table 5.1.8-1: Supported Features

.. container::

   Feature number

Feature Name

Description

1

ServiceExperience

This feature indicates support for the event related to service
experience.

2

UeMobility

This feature indicates the support of analytics based on UE mobility
information.

3

UeCommunication

This feature indicates the support of analytics based on UE
communication information.

4

QoSSustainability

This feature indicates support for the event related to QoS
sustainability.

5

AbnormalBehaviour

This feature indicates support for the event related to abnormal
behaviour information.

6

UserDataCongestion

This feature indicates support for the event related to user data
congestion.

7

NfLoad

This feature indicates the support of the analytics related to the load
of NF instances.

8

NetworkPerformance

This feature indicates the support of analytics based on network
performance.

9

NsiLoad

This feature indicates the support of the event related to the load
level of Network Slice and the optionally associated Network Slice
Instance.

10

ES3XX

Extended Support for 3xx redirections. This feature indicates the
support of redirection for any service operation, according to Stateless
NF procedures as specified in subclauses 6.5.3.2 and 6.5.3.3 of 3GPP TS
29.500 [6] and according to HTTP redirection principles for indirect
communication, as specified in subclause 6.10.9 of 3GPP TS 29.500 [6].

 

5.1.9      Security
~~~~~~~~~~~~~~~~~~~

As indicated in 3GPP TS 33.501 [13] and 3GPP TS 29.500 [6], the access
to the Nnwdaf_EventsSubscription API may be authorized by means of the
OAuth2 protocol (see IETF RFC 6749 [14]), based on local configuration,
using the "Client Credentials" authorization grant, where the NRF (see
3GPP TS 29.510 [12]) plays the role of the authorization server.

If OAuth2 is used, a n NF Service Consumer, prior to consuming services
offered by the Nnwdaf_EventsSubscription API, shall obtain a "token"
from the authorization server, by invoking the Access Token Request
service, as described in 3GPP TS 29.510 [12], subclause 5.4.2.2.

NOTE:     When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used
for discovering the Nnwdaf_EventsSubscription service.

The Nnwdaf_EventsSubscription API defines a single scope
"nnwdaf-eventssubscription" for the entire service, and it does not
define any additional scopes at resource or operation level.

5.2         Nnwdaf_AnalyticsInfo Service API
--------------------------------------------

.. _introduction-6:

5.2.1      Introduction
~~~~~~~~~~~~~~~~~~~~~~~

The Nnwdaf_AnalyticsInfo Service shall use the Nnwdaf_AnalyticsInfo API.

The request URIs used in each HTTP requests from the NF service consumer
towards the NWDAF shall have the Resource URI structure defined in
subclause 4.4.1 of 3GPP TS 29.501 [7], i.e.:

{apiRoot}/<apiName>/<apiVersion>/<apiSpecificResourceUriPart>

with the following components:

-    The {apiRoot} shall be set as described in 3GPP TS 29.501 [7].

-    The<apiName> shall be "nnwdaf-analyticsinfo".

-    The <apiVersion> shall be "v1".

-    The <apiSpecificResourceUriPart> shall be set as described in
subclause 5.2.3.

.. _usage-of-http-1:

5.2.2      Usage of HTTP
~~~~~~~~~~~~~~~~~~~~~~~~

.. _general-9:

5.2.2.1           General
^^^^^^^^^^^^^^^^^^^^^^^^^

HTTP/2, IETF RFC 7540 [9], shall be used as specified in clause 5 of
3GPP TS 29.500 [6].

HTTP/2 shall be transported as specified in subclause 5.3 of
3GPP TS 29.500 [6].

The OpenAPI [11] specification of HTTP messages and content bodies for
the Nnwdaf_AnalyticsInfo is contained in Annex A.

.. _http-standard-headers-1:

5.2.2.2           HTTP standard headers
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _general-10:

5.2.2.2.1              General
''''''''''''''''''''''''''''''

See subclause 5.2.2 of 3GPP TS 29.500 [6] for the usage of HTTP standard
headers.

.. _content-type-1:

5.2.2.2.2              Content type
'''''''''''''''''''''''''''''''''''

JSON, IETF RFC 8259 [10], shall be used as content type of the HTTP
bodies specified in the present specification as specified in
subclause 5.4 of 3GPP TS 29.500 [6]. The use of the JSON format shall be
signalled by the content type "application/json".

"Problem Details" JSON object shall be used to indicate additional
details of the error in a HTTP response body and shall be signalled by
the content type "application/problem+json", as defined in
IETF RFC 7807 [15].

.. _http-custom-headers-1:

5.2.2.3           HTTP custom headers
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The Nnwdaf_AnalyticsInfo Service API shall support HTTP custom header
fields specified in subclause 5.2.3.2 of 3GPP TS 29.500 [6].

In this release of the specification, no specific custom headers are
defined for the Nnwdaf_AnalyticsInfo Service API.

.. _resources-1:

5.2.3      Resources
~~~~~~~~~~~~~~~~~~~~

.. _resource-structure-1:

5.2.3.1           Resource Structure
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Figure 5.2.3.1-1: Resource URI structure of the Nnwdaf_AnalyticsInfo API

Table 5.2.3.1-1 provides an overview of the resources and applicable
HTTP methods.

Table 5.2.3.1-1: Resources and methods overview

.. container::

   Resource name

Resource URI

HTTP method or custom operation

Description

NWDAF Analytics

/analytics

GET

Retrieve the NWDAF analytics

 

5.2.3.2           Resource: NWDAF Analytics
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _description-3:

5.2.3.2.1              Description
''''''''''''''''''''''''''''''''''

The NWDAF Analytics resource represents the analytics to the
Nnwdaf_AnalyticsInfo Service at a given NWDAF.

.. _resource-definition-2:

5.2.3.2.2              Resource definition
''''''''''''''''''''''''''''''''''''''''''

Resource URI: {apiRoot}/nnwdaf-analyticsinfo/v1/analytics

This resource shall support the resource URI variables defined in
table 5.2.3.2.2-1.

Table 5.2.3.2.2-1: Resource URI variables for this resource

.. container::

   Name

Data type

Definition

apiRoot

string

See subclause 5.2.1

 

.. _resource-standard-methods-2:

5.2.3.2.3              Resource Standard Methods
''''''''''''''''''''''''''''''''''''''''''''''''

5.2.3.2.3.1                GET
                              

This method shall support the URI query parameters specified in
table 5.2.3.2.3.1-1.

Table 5.2.3.2.3.1-1: URI query parameters supported by the GET method on
this resource

.. container::

   Name

Data type

P

Cardinality

Description

ana-req

EventReportingRequirement

O

0..1

Identifies the analytics reporting requirement information.

event-id

EventId

M

1

Shall be included to identify the analytics.

event-filter

EventFilter

C

0..1

Shall be included to identify the analytics when filter information is
needed for the related event.

supported-features

SupportedFeatures

O

0..1

To filter irrelevant responses related to unsupported features.

tgt-ue

TargetUeInformation

O

0..1

Identifies the target UE information.

 

This method shall support the request data structures specified in
table 5.2.3.2.3.1-2 and the response data structures and response codes
specified in table 5.2.3.2.3.1-3.

Table 5.2.3.2.3.1-2: Data structures supported by the GET Request Body
on this resource

.. container::

   Data type

P

Cardinality

Description

n/a

 

 

 

 

Table 5.2.3.2.3.1-3: Data structures supported by the GET Response Body
on this resource

.. container::

   Data type

P

Cardinality

Response

codes

Description

AnalyticsData

M

1

200 OK

Containing the analytics with parameters as relevant for the requesting
NF service consumer

n/a

 

 

204 No Content

If the request NWDAF Analytics data does not exist, the NWDAF shall
respond with "204 No Content ".

NOTE:     The mandatory HTTP error status codes for the GET method
listed in table 5.2.7.1-1 of 3GPP TS 29.500 [6] also apply.

 

.. _resource-custom-operations-2:

5.2.3.2.4              Resource Custom Operations
'''''''''''''''''''''''''''''''''''''''''''''''''

None in this release of the specification.

.. _custom-operations-without-associated-resources-1:

5.2.4      Custom Operations without associated resources
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

None in this release of the specification.

.. _notifications-1:

5.2.5      Notifications
~~~~~~~~~~~~~~~~~~~~~~~~

None in this release of the specification.

.. _data-model-1:

5.2.6      Data Model
~~~~~~~~~~~~~~~~~~~~~

.. _general-11:

5.2.6.1           General
^^^^^^^^^^^^^^^^^^^^^^^^^

This subclause specifies the application data model supported by the
API.

Table 5.2.6.1-1 specifies the data types defined for the
Nnwdaf_AnalyticsInfo service based interface protocol.

Table 5.2.6.1-1: Nnwdaf_AnalyticsInfo specific Data Types

.. container::

   Data type

Section defined

Description

Applicability

AnalyticsData

5.2.6.2.2

Describes analytics with parameters indicated in the request

 

EventFilter

5.2.6.2.3

Represents the event filters used to identify the requested analytics.

 

EventId

5.2.6.3.3

Describes the type of analytics.

 

 

Table 5.2.6.1-2 specifies data types re-used by the Nnwdaf_AnalyticsInfo
service based interface protocol from other specifications, including a
reference to their respective specifications and when needed, a short
description of their use within the Nnwdaf service based interface.

Re-used data types of clause 5.1.6 refer here to requests instead of
subscriptions.

Table 5.2.6.1-2: Nnwdaf_AnalyticsInfo re-used Data Types

.. container::

   Data type

Reference

Comments

Applicability

Accuracy

5.1.6.3.5

Represents the preferred level of accuracy of the analytics.

 

AnySlice

5.1.6.3.2

 

 

ApplicationId

3GPP TS 29.571 [8]

Identifies the application.

ServiceExperience

UeCommunication

AbnormalBehaviour

BwRequirement

5.1.6.2.25

 

ServiceExperience

DateTime

3GPP TS 29.571 [8]

Identifies the time.

 

Dnn

3GPP TS 29.571 [8]

Identifies the DNN.

ServiceExperience

AbnormalBehaviour

UeCommunication

Dnai

3GPP TS 29.571 [8]

Identifies a user plane access to one or more DN(s)

ServiceExperience

EventReportingRequirement

5.1.6.2.7

 

 

ExceptionId

5.1.6.3.6

 

AbnormalBehaviour

ExpectedUeBehaviourData

3GPP TS 29.503 [23]

 

AbnormalBehaviour

ExpectedAnalyticsType

5.1.6.3.11

 

AbnormalBehaviour

GroupId

3GPP TS 29.571 [8]

Internal Group Identifier of a group of UEs

UeMobility

UeCommunication

NetworkPerformance

AbnormalBehaviour

ServiceExperience

NetworkAreaInfo

3GPP TS 29.554 [18]

The network area information.

UeMobility

NetworkPerformance

QoSSustainability

ServiceExperience

UserDataCongestion

AbnormalBehaviour

NetworkPerfInfo

5.1.6.2.23

 

NetworkPerformance

NetworkPerfType

5.1.6.3.10

Represents the network performance types.

NetworkPerformance

NfLoadLevelInformation

5.1.6.2.31

Represents load level information of a given NF instance.

NfLoad

NfInstanceId

3GPP TS 29.571 [8]

Identifies an NF instance

NfLoad

NfSetId

3GPP TS 29.571 [8]

Identifies an NF Set instance

NfLoad

NFType

3GPP TS 29.510 [12]

Indentifies a type of NF

NfLoad

NsiId

3GPP TS 29.531 [24]

Identifies a Network Slice Instance

ServiceExperience

NsiLoad

NsiIdInfo

5.1.6.2.33

Identify the S-NSSAI and the associated Network Slice Instance(s).

ServiceExperience

NsiLoad

NsiLoadLevelInfo

5.1.6.2.34

Represents the load level information for an S-NSSAI and the associated
network slice instance.

NsiLoad

ProblemDetails

3GPP TS 29.571 [8]

Used in error responses to provide more detailed information about an
error.

 

QosRequirement

5.1.6.2.20

 

QoSSustainability

QosSustainabilityInfo

5.1.6.2.19

 

QoSSustainability

SamplingRatio

3GPP TS 29.571 [8]

 

 

ServiceExperienceInfo

5.1.6.2.24

 

ServiceExperience

Supi

3GPP TS 29.571 [8]

Identifies the UE.

ServiceExperience,

NfLoad

NetworkPerformance

UserDataCongestion

UeMobility

UeCommunication

AbnormalBehaviour

SupportedFeatures

3GPP TS 29.571 [8]

Used to negotiate the applicability of the optional features defined in
table 5.2.8-1.

 

Snssai

3GPP TS 29.571 [8]

 

 

SliceLoadLevelInformation

5.1.6.2.6

 

 

TargetUeInformation

5.1.6.2.8

Identifies the target UE information.

ServiceExperience

NfLoad

NetworkPerformance

UserDataCongestion

UeMobility

UeCommunication

AbnormalBehaviour

QoSSustainability

UeCommunication

5.1.6.2.13

 

UeCommunication

UeMobility

5.1.6.2.10

 

UeMobility

Uinteger

3GPP TS 29.571 [8]

Unsigned Integer, i.e. only value 0 and integers above 0 are
permissible.

 

UserDataCongestionInfo

5.1.6.2.17

 

UserDataCongestion

AbnormalBehaviour

5.1.6.2.15

Represents the abnormal behaviour information.

AbnormalBehaviour

 

.. _structured-data-types-1:

5.2.6.2           Structured data types
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _introduction-7:

5.2.6.2.1              Introduction
'''''''''''''''''''''''''''''''''''

This subclause defines the structures to be used in resource
representations.

5.2.6.2.2              Type AnalyticsData
'''''''''''''''''''''''''''''''''''''''''

Table 5.2.6.2.2-1: Definition of type AnalyticsData

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

 

expiry

DateTime

O

0..1

It defines the expiration time after which the analytics information
will become invalid.

 

 

timeStampGen

DateTime

O

0..1

It defines the timestamp of analytics generation.

 

 

sliceLoadLevelInfos

array(SliceLoadLevelInformation)

C

1..N

The slices and the load level information. Shall be present when the
requested event is "LOAD_LEVEL_INFORMATION".

 

 

nsiLoadLevelInfos

array(NsiLoadLevelInfo)

C

1..N

Each element identifies the load level information for an S-NSSAI and
the optionally associated network slice instance.

Shall be presented when the requested event is "NSI_LOAD_LEVEL"

NsiLoad

 

nwPerfs

array(NetworkPerfInfo)

C

1..N

The network performance information.

Shall be present when the requested event is "NETWORK_PERFORMANCE".

NetworkPerformance

 

nfLoadLevelInfos

array(NfLoadLevelInformation)

C

1..N

The NF load information.

When the requestedevent is "NF_LOAD", the nfLoadLevelInfos shall be
included.

NfLoad

 

qosSustainInfos

array(QosSustainabilityInfo)

C

1..N

The QoS sustainability informations in the certain geographic areas.

It shall present if the requested eventis "QOS_SUSTAINABILITY". (NOTE)

QoSSustainability

 

ueMobs

array(UeMobility)

C

1..N

The UE mobility information.

When the requested event is "UE_MOBILITY", the "ueMobs" attribute shall
be included.

UeMobility

 

ueComms

array(UeCommunication)

C

1..N

The UE communication information.

When the requested event is "UE_COMM", the "ueComms" attribute shall be
included.

UeCommunication

 

userDataCongInfos

array(UserDataCongestionInfo)

C

1..N

The user data congestion information.

Shall be present when the requested event is "USER_DATA_CONGESTION".

UserDataCongestion

 

suppFeat

SupportedFeatures

C

0..1

List of Supported features used as described in subclause 5.2.8.

This parameter shall be supplied by NWDAF in the reply of GET request
that request the analytics resource, if the consumer includes
"supported-features" in the GET request.

 

 

svcExps

array(ServiceExperienceInfo)

C

1..N

The service experience information.

ServiceExperience

 

abnorBehavrs

array(AbnormalBehaviour)

C

1..N

The abnormal behaviour information.

AbnormalBehaviour

 

 

NOTE:     The "qosFlowRetThd" and "ranUeThrouThd" attributes in
QosSustainabilityInfo data type are not applicable.

 

5.2.6.2.3              Type EventFilter
'''''''''''''''''''''''''''''''''''''''

Table 5.2.6.2.3-1: Definition of type EventFilter

.. container::

   Attribute name

Data type

P

Cardinality

Description

Applicability

anySlice

AnySlice

C

0..1

Default is "FALSE". (NOTE 1)

 

appIds

array(ApplicationId)

C

1..N

Identification(s) of application. The absence of appIds means applicable
to all applications. (NOTE 4)

ServiceExperience

UeCommunication AbnormalBehaviour

dnns

array(Dnn)

C

1..N

Identification(s) of DNN. Each DNN is a full DNN with both the Network
Identifier and Operator Identifier, or a DNN with the Network Identifier
only. The absence of dnns means applicable to all DNNs. (NOTE 4)

ServiceExperience

UeCommunication

AbnormalBehaviour

dnais

array(Dnai)

C

1..N

Identification(s) of user plane accesses to DN(s) where applications are
deployed. It may be included when event-id is "SERVICE_EXPERIENCE".

ServiceExperience

snssais

array(Snssai)

C

1..N

Identification(s) of network slice. (NOTE 1), (NOTE 4)

 

nfInstanceIds

array(NfInstanceId)

O

1..N

Identification(s) of NF instances.

NfLoad

nfSetIds

array(NfSetId)

O

1..N

Identification(s) of NF instance sets.

NfLoad

nfTypes

array(NFType)

O

1..N

Identification(s) of NF types.

NfLoad

networkArea

NetworkAreaInfo

C

0..1

This IE represents the network area where the NF service consumer wants
to know the analytics result. (NOTE 2), (NOTE 4)

UeMobility

UeCommunication

NetworkPerformance

QoSSustainability

ServiceExperience

UserDataCongestion

AbnormalBehaviour

nsiIdInfos

array(NsiIdInfo)

O

1..N

Each element identifies the S-NSSAI and the optionally associated
network slice instance(s).

May be included when subscribed event is "NSI_LOAD_LEVEL" or

"SERVICE_EXPERIENCE".

(NOTE 1)

ServiceExperience

NsiLoad

nwPerfTypes

array(NetworkPerfType)

C

1..N

Represents the network performance types. This attribute shall be
included when event-id is "NETWORK_PERFORMANCE".

NetworkPerformance

qosRequ

QoSRequirement

C

0..1

Represents the QoS requirements. This attribute shall be included when
event-id is "QOS_SUSTAINABILITY".

QoSSustainability

bwRequs

array(BwRequirement)

O

1..N

Represents the media/application bandwidth requirement for each
application.

It may only be present if "appIds" attribute is provided.

ServiceExperience

excepIds

array(ExceptionId)

C

1..N

Represents a list of Exception Ids.

(NOTE 3)

AbnormalBehaviour

exptAnaType

ExpectedAnalyticsType

C

0..1

Represents expected UE analytics type.

(NOTE 3)

AbnormalBehaviour

exptUeBehav

ExpectedUeBehaviourData

O

0..1

Represents expected UE behaviour.

AbnormalBehaviour

NOTE 1:  The "anySlice" attribute is not applicable to features
"UeMobility" and "NetworkPerformance". The "snssais" attribute is not
applicable to features "ServiceExperience", "NsiLoad", "UeMobility" and
"NetworkPerformance". When event-id in the request is
"LOAD_LEVEL_INFORMATION", the identifications of network slices, either
information about slice(s) identified by the "snssais" attribute, or
"anySlice" set to "TRUE", shall be included. When subscribed event is
"NSI_LOAD_LEVEL" or "SERVICE_EXPERIENCE", teither the "nsiIdInfos"
attribute or anySlice set to "TRUE" shall be included. When subscribed
event is "QOS_SUSTAINABILITY", "NF_LOAD", "UE_COMM",
"ABNORMAL_BEHAVIOUR" or "USER_DATA_CONGESTION", the identifications of
network slices identified by the "snssais" attribute is optional.

NOTE 2:  For "NETWORK_PERFORMANCE", "SERVICE_EXPERIENCE" or
"USER_DATA_CONGESTION" event, this attribute shall be provided if the
event applied for all UEs (i.e. "anyUe" attribute set to true). For
"QOS_SUSTAINABILITY", this attribute shall be provided.

NOTE 3:  Either "excepIds" or "exptAnaType" shall be provided if
event-id in the request is "ABNORMAL_BEHAVIOUR".

NOTE 4:  For "ABNORMAL_BEHAVIOUR" event with "anyUe" attribute in
"tgt-ue" attribute sets to true,

-    at least one of the "networkArea" and the "snssais" attribute
should be included, if the expected analytics type via the"exptAnaType"
attribute or the list of Exception Ids via the "excepIds" attribute is
mobility related;

-    at least one of the "networkArea", "appIds", "dnns" and "snssais"
attribute should be included, if the expected analytics type via
the"exptAnaType" attribute or the list of Exception Ids via the
"excepIds" attribute is communication related;

-    the expected analytics type via the"exptAnaType" attribute or the
list of Exception Ids via "excepIds" attribute shall not be requested
for both mobility and communication related analytics at the same time.

 

.. _void-2:

5.2.6.2.4              Void
'''''''''''''''''''''''''''

.. _simple-data-types-and-enumerations-1:

5.2.6.3           Simple data types and enumerations
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

.. _introduction-8:

5.2.6.3.1              Introduction
'''''''''''''''''''''''''''''''''''

This subclause defines simple data types and enumerations that can be
referenced from data structures defined in the previous subclauses.

.. _simple-data-types-1:

5.2.6.3.2              Simple data types
''''''''''''''''''''''''''''''''''''''''

The simple data types defined in table 5.2.6.3.2-1 shall be supported.

Table 5.2.6.3.2-1: Simple data types

.. container::

   Type Name

Type Definition

Description

Applicability

n/a

 

 

 

 

5.2.6.3.3              Enumeration: EventId
'''''''''''''''''''''''''''''''''''''''''''

Table 5.2.6.3.3-1: Enumeration EventId

Enumeration value

Description

Applicability

LOAD_LEVEL_INFORMATION

Represents the analytics of load level information of corresponding
network slice.

 

NETWORK_PERFORMANCE

Represents the analytics of network performance information

NetworkPerformance

NF_LOAD

Represents the analytics of NF Load information.

NfLoad

QOS_SUSTAINABILITY

Represents the analytics of QoS sustainability in the certain area.

QoSSustainability

 

SERVICE_EXPERIENCE

Represents the analytics of service experience of corresponding
application and/or network slice.

ServiceExperience

UE_MOBILITY

Represents the analytics of UE mobility.

UeMobility

UE_COMM

Represents the analytics of UE communication.

UeCommunication

USER_DATA_CONGESTION

Represents the analytics of the user data congestion in the certain
area.

UserDataCongestion

ABNORMAL_BEHAVIOUR

Represents  the analytics of abnormal behaviour information.

AbnormalBehaviour

NSI_LOAD_LEVEL

Represents the analytics of load level information of Network Slice and
the optionally associated Network Slice Instance

NsiLoad

 

.. _error-handling-1:

5.2.7      Error handling
~~~~~~~~~~~~~~~~~~~~~~~~~

.. _general-12:

5.2.7.1           General
^^^^^^^^^^^^^^^^^^^^^^^^^

HTTP error handling shall be supported as specified in subclause 5.2.4
of 3GPP TS 29.500 [6].

For the Nnwdaf_AnalyticsInfo API, HTTP error responses shall be
supported as specified in subclause 4.8 of 3GPP TS 29.501 [7]. Protocol
errors and application errors specified in table 5.2.7.2-1 of
3GPP TS 29.500 [6] shall be supported for an HTTP method if the
corresponding HTTP status codes are specified as mandatory for that HTTP
method in table 5.2.7.1-1 of 3GPP TS 29.500 [6]. In addition, the
requirements in the following subclauses shall apply.

.. _protocol-errors-1:

5.2.7.2           Protocol Errors
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

In this Release of the specification, there are no additional protocol
errors applicable for the Nnwdaf_AnalyticsInfo API.

.. _application-errors-1:

5.2.7.3           Application Errors
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The application errors defined for the Nnwdaf_AnalyticsInfo API are
listed in table 5.2.7.3-1.

Table 5.2.7.3-1: Application errors

.. container::

   Application Error

HTTP status code

Description

BOTH_STAT_PRED_NOT_ALLOWED

400 Bad Request

For the requested observation period, the start time is in the past and
the end time is in the future, which means the NF service consumer
requested both statistics and prediction for the analytics.

UNAVAILABLE_DATA

500 Internal Server Error

Indicates the requested statistics in the past is rejected since
necessary data to perform the service is unavailable.

NOTE:     Including a "ProblemDetails" data structure with the "cause"
attribute in the HTTP response is optional unless explicitly mandated in
the service operation subclauses.

 

.. _feature-negotiation-1:

5.2.8      Feature negotiation
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

The optional features in table 5.2.8-1 are defined for the
Nnwdaf_AnalyticsInfo API. They shall be negotiated using the
extensibility mechanism defined in subclause 6.6 of 3GPP TS 29.500 [6].

Table 5.2.8-1: Supported Features

.. container::

   Feature number

Feature Name

Description

1

UeMobility

This feature indicates the support of analytics based on UE mobility
information.

2

UeCommunication

This feature indicates the support of analytics based on UE
communication information.

3

NetworkPerformance

This feature indicates the support of analytics based on network
performance.

4

ServiceExperience

This feature indicates support for the event related to service
experience.

5

QoSSustainability

This feature indicates support for the event related to QoS
sustainability.

6

AbnormalBehaviour

This feature indicates support for the event related to abnormal
behaviour information.

7

UserDataCongestion

This feature indicates the support of the analytics related on user data
congestion.

8

NfLoad

This feature indicates the support of the analytics related to the load
of NF instances.

9

NsiLoad

This feature indicates the support of the analytics related to the load
level of Network Slice and the optionally associated Network Slice
Instance.

 

.. _security-1:

5.2.9      Security
~~~~~~~~~~~~~~~~~~~

As indicated in 3GPP TS 33.501 [13] and 3GPP TS 29.500 [6], the access
to the Nnwdaf_AnalyticsInfo API may be authorized by means of the OAuth2
protocol (see IETF RFC 6749 [14]), based on local configuration, using
the "Client Credentials" authorization grant, where the NRF (see
3GPP TS 29.510 [12]) plays the role of the authorization server.

If OAuth2 is used, a n NF Service Consumer, prior to consuming services
offered by the Nnwdaf_AnalyticsInfo API, shall obtain a "token" from the
authorization server, by invoking the Access Token Request service, as
described in 3GPP TS 29.510 [12], subclause 5.4.2.2.

NOTE:     When multiple NRFs are deployed in a network, the NRF used as
authorization server is the same NRF that the NF Service Consumer used
for discovering the Nnwdaf_AnalyticsInfo service.

The Nnwdaf_AnalyticsInfo API defines a single scope
"nnwdaf-analyticsinfo" for the entire service, and it does not define
any additional scopes at resource or operation level.

.. container::

   Annex A (normative):
   OpenAPI specification

   .. rubric:: A.1      General
      :name: a.1-general

The present Annex contains an OpenAPI [11] specification of HTTP
messages and content bodies used by the Nnwdaf_EventsSubscription and
the Nnwdaf_AnalyticsInfo APIs.

This Annex shall take precedence when being discrepant to other parts of
the specification with respect to the encoding of information elements
and methods within the API(s).

NOTE:     The semantics and procedures, as well as conditions, e.g. for
the applicability and allowed combinations of attributes or values, not
expressed in the OpenAPI definitions but defined in other parts of the
specification also apply.

Informative copies of the OpenAPI specification files contained in this
3GPP Technical Specification are available on a Git-based repository
hosted, that uses the GitLab software version control system (see
clause 5B of the 3GPP TR 21.900 [16] and subclause 5.3.1 of the
3GPP TS 29.501 [7] for further information).

.. container::

   .. rubric:: A.2      Nnwdaf_EventsSubscription API
      :name: a.2-nnwdaf_eventssubscription-api

openapi: 3.0.0

info:

  version: 1.1.7

  title: Nnwdaf_EventsSubscription

  description: \|

    Nnwdaf_EventsSubscription Service API. 

    © 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI,
TTA, TTC). 

    All rights reserved.

externalDocs:

  description: 3GPP TS 29.520 V16.12.0; 5G System; Network Data
Analytics Services.

  url: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.520/'

security:

  - {}

  - oAuth2ClientCredentials:

    - nnwdaf-eventssubscription

servers:

  - url: '{apiRoot}/nnwdaf-eventssubscription/v1'

    variables:

      apiRoot:

        default: https://example.com

        description: apiRoot as defined in subclause 4.4 of 3GPP TS
29.501.

paths:

  /subscriptions:

    post:

      summary: Create a new Individual NWDAF Events Subscription

      operationId: CreateNWDAFEventsSubscription

      tags:

        - NWDAF Events Subscriptions (Collection)

      requestBody:

        required: true

        content:

          application/json:

            schema:

              $ref: '#/components/schemas/NnwdafEventsSubscription'

      responses:

        '201':

          description: Create a new Individual NWDAF Event Subscription
resource.

          headers:

            Location:

              description: 'Contains the URI of the newly created
resource, according to the structure:
{apiRoot}/nnwdaf-eventssubscription/v1/subscriptions/{subscriptionId}'

              required: true

              schema:

                type: string

          content:

            application/json:

              schema:

                $ref: '#/components/schemas/NnwdafEventsSubscription'

        '400':

          $ref: 'TS29571_CommonData.yaml#/components/responses/400'

        '401':

          $ref: 'TS29571_CommonData.yaml#/components/responses/401'

        '403':

          $ref: 'TS29571_CommonData.yaml#/components/responses/403'

        '404':

          $ref: 'TS29571_CommonData.yaml#/components/responses/404'

        '411':

          $ref: 'TS29571_CommonData.yaml#/components/responses/411'

        '413':

          $ref: 'TS29571_CommonData.yaml#/components/responses/413'

        '415':

          $ref: 'TS29571_CommonData.yaml#/components/responses/415'

        '429':

          $ref: 'TS29571_CommonData.yaml#/components/responses/429'

        '500':

          $ref: 'TS29571_CommonData.yaml#/components/responses/500'

        '503':

          $ref: 'TS29571_CommonData.yaml#/components/responses/503'

        default:

          $ref: 'TS29571_CommonData.yaml#/components/responses/default'

      callbacks:

        myNotification:

          '{$request.body#/notificationURI}':

            post:

              requestBody:

                required: true

                content:

                  application/json:

                    schema:

                      type: array

                      items:

                        $ref:
'#/components/schemas/NnwdafEventsSubscriptionNotification'

                      minItems: 1

              responses:

                '204':

                  description: The receipt of the Notification is
acknowledged.

                '307':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/307'

                '308':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/308'

                '400':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/400'

                '401':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/401'

                '403':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/403'

                '404':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/404'

                '411':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/411'

                '413':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/413'

                '415':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/415'

                '429':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/429'

                '500':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/500'

                '503':

                  $ref:
'TS29571_CommonData.yaml#/components/responses/503'

                default:

                  $ref:
'TS29571_CommonData.yaml#/components/responses/default'

  /subscriptions/{subscriptionId}:

    delete:

      summary: Delete an existing Individual NWDAF Events Subscription

      operationId: DeleteNWDAFEventsSubscription

      tags:

        - Individual NWDAF Events Subscription (Document)

      parameters:

        - name: subscriptionId

          in: path

          description: String identifying a subscription to the
Nnwdaf_EventsSubscription Service

          required: true

          schema:

            type: string

      responses:

        '204':

          description: No Content. The Individual NWDAF Event
Subscription resource matching the subscriptionId was deleted.

        '307':

          $ref: 'TS29571_CommonData.yaml#/components/responses/307'

        '308':

          $ref: 'TS29571_CommonData.yaml#/components/responses/308'

        '400':

          $ref: 'TS29571_CommonData.yaml#/components/responses/400'

        '401':

          $ref: 'TS29571_CommonData.yaml#/components/responses/401'

        '403':

          $ref: 'TS29571_CommonData.yaml#/components/responses/403'

        '404':

          description: The Individual NWDAF Event Subscription resource
does not exist.

          content:

            application/problem+json:

              schema:

                $ref:
'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'

        '429':

          $ref: 'TS29571_CommonData.yaml#/components/responses/429'

        '500':

          $ref: 'TS29571_CommonData.yaml#/components/responses/500'

        '501':

          $ref: 'TS29571_CommonData.yaml#/components/responses/501'

        '503':

          $ref: 'TS29571_CommonData.yaml#/components/responses/503'

        default:

          $ref: 'TS29571_CommonData.yaml#/components/responses/default'

    put:

      summary: Update an existing Individual NWDAF Events Subscription

      operationId: UpdateNWDAFEventsSubscription

      tags:

        - Individual NWDAF Events Subscription (Document)

      requestBody:

        required: true

        content:

          application/json:

            schema:

              $ref: '#/components/schemas/NnwdafEventsSubscription'

      parameters:

        - name: subscriptionId

          in: path

          description: String identifying a subscription to the
Nnwdaf_EventsSubscription Service

          required: true

          schema:

            type: string

      responses:

        '200':

          description: The Individual NWDAF Event Subscription resource
was modified successfully and a representation of that resource is
returned.

          content:

            application/json:

              schema:

                $ref: '#/components/schemas/NnwdafEventsSubscription'

        '204':

          description: The Individual NWDAF Event Subscription resource
was modified successfully.

        '307':

          $ref: 'TS29571_CommonData.yaml#/components/responses/307'

        '308':

          $ref: 'TS29571_CommonData.yaml#/components/responses/308'

        '400':

          $ref: 'TS29571_CommonData.yaml#/components/responses/400'

        '401':

          $ref: 'TS29571_CommonData.yaml#/components/responses/401'

        '403':

          $ref: 'TS29571_CommonData.yaml#/components/responses/403'

        '404':

          description: The Individual NWDAF Event Subscription resource
does not exist.

          content:

            application/problem+json:

              schema:

                $ref:
'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'

        '411':

          $ref: 'TS29571_CommonData.yaml#/components/responses/411'

        '413':

          $ref: 'TS29571_CommonData.yaml#/components/responses/413'

        '415':

          $ref: 'TS29571_CommonData.yaml#/components/responses/415'

        '429':

          $ref: 'TS29571_CommonData.yaml#/components/responses/429'

        '500':

          $ref: 'TS29571_CommonData.yaml#/components/responses/500'

        '501':

          $ref: 'TS29571_CommonData.yaml#/components/responses/501'

        '503':

          $ref: 'TS29571_CommonData.yaml#/components/responses/503'

        default:

          $ref: 'TS29571_CommonData.yaml#/components/responses/default'

components:

  securitySchemes:

    oAuth2ClientCredentials:

      type: oauth2

      flows:

        clientCredentials:

          tokenUrl: '{nrfApiRoot}/oauth2/token'

          scopes:

            nnwdaf-eventssubscription: Access to the
Nnwdaf_EventsSubscription API

  schemas:

    NnwdafEventsSubscription:

      type: object

      properties:

        eventSubscriptions:

          type: array

          items:

            $ref: '#/components/schemas/EventSubscription'

          minItems: 1

          description: Subscribed events

        evtReq:

          $ref:
'TS29523_Npcf_EventExposure.yaml#/components/schemas/ReportingInformation'

        notificationURI:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uri'

        supportedFeatures:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'

        eventNotifications:

          type: array

          items:

            $ref: '#/components/schemas/EventNotification'

          minItems: 1

        failEventReports:

          type: array

          items:

            $ref: '#/components/schemas/FailureEventInfo'

          minItems: 1

      required:

        - eventSubscriptions

    EventSubscription:

      type: object

      properties:

        anySlice:

          $ref: '#/components/schemas/AnySlice'

        appIds:

          type: array

          items:

            $ref:
'TS29571_CommonData.yaml#/components/schemas/ApplicationId'

          minItems: 1

          description: Identification(s) of application to which the
subscription applies.

        dnns:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'

          minItems: 1

          description: Identification(s) of DNN to which the
subscription applies.

        dnais:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'

          minItems: 1

        event:

          $ref: '#/components/schemas/NwdafEvent'

        extraReportReq:

          $ref: '#/components/schemas/EventReportingRequirement'

        loadLevelThreshold:

          type: integer

          description: Indicates that the NWDAF shall report the
corresponding network slice load level to the NF service consumer where
the load level of the network slice identified by snssais is reached.

        notificationMethod:

          $ref: '#/components/schemas/NotificationMethod'

        matchingDir:

          $ref: '#/components/schemas/MatchingDirection'

        nfLoadLvlThds:

          type: array

          items:

            $ref: '#/components/schemas/ThresholdLevel'

          minItems: 1

          description: Shall be supplied in order to start reporting
when an average load level is reached.

        nfInstanceIds:

          type: array

          items:

            $ref:
'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'

          minItems: 1

        nfSetIds:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'

          minItems: 1

        nfTypes:

          type: array

          items:

            $ref:
'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType'

          minItems: 1

        networkArea:

          $ref:
'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo'

        nsiIdInfos:

          type: array

          items:

            $ref: '#/components/schemas/NsiIdInfo'

          minItems: 1

        nsiLevelThrds:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

          minItems: 1

        qosRequ:

          $ref: '#/components/schemas/QosRequirement'

        qosFlowRetThds:

          type: array

          items:

            $ref: '#/components/schemas/RetainabilityThreshold'

          minItems: 1

        ranUeThrouThds:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'

          minItems: 1

        repetitionPeriod:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/DurationSec'

        snssaia:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

          minItems: 1

          description: Identification(s) of network slice to which the
subscription applies. When subscribed event is "SLICE_LOAD_LEVEL",
either information about slice(s) identified by snssai, or anySlice set
to "TRUE" shall be included. It corresponds to snssais in the data model
definition of 3GPP TS 29.520. When subscribed is "QOS_SUSTAINABILITY",
the identifications of network slices is optional.

        tgtUe:

          $ref: '#/components/schemas/TargetUeInformation'

        congThresholds:

          type: array

          items:

            $ref: '#/components/schemas/ThresholdLevel'

          minItems: 1

        nwPerfRequs:

          type: array

          items:

            $ref: '#/components/schemas/NetworkPerfRequirement'

          minItems: 1

        bwRequs:

          type: array

          items:

            $ref: '#/components/schemas/BwRequirement'

          minItems: 1

        excepRequs:

          type: array

          items:

            $ref: '#/components/schemas/Exception'

          minItems: 1

        exptAnaType:

          $ref: '#/components/schemas/ExpectedAnalyticsType'

        exptUeBehav:

          $ref:
'TS29503_Nudm_SDM.yaml#/components/schemas/ExpectedUeBehaviourData'

      required:

        - event

    NnwdafEventsSubscriptionNotification:

      type: object

      properties:

        eventNotifications:

          type: array

          items:

            $ref: '#/components/schemas/EventNotification'

          minItems: 1

          description: Notifications about Individual Events

        subscriptionId:

          type: string

          description: String identifying a subscription to the
Nnwdaf_EventsSubscription Service

      required:

        - eventNotifications

        - subscriptionId

    EventNotification:

      type: object

      properties:

        event:

          $ref: '#/components/schemas/NwdafEvent'

        expiry:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        timeStampGen:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        nfLoadLevelInfos:

          type: array

          items:

            $ref: '#/components/schemas/NfLoadLevelInformation'

          minItems: 1

        nsiLoadLevelInfos:

          type: array

          items:

            $ref: '#/components/schemas/NsiLoadLevelInfo'

          minItems: 1

        sliceLoadLevelInfo:

          $ref: '#/components/schemas/SliceLoadLevelInformation'

        svcExps:

          type: array

          items:

            $ref: '#/components/schemas/ServiceExperienceInfo'

          minItems: 1

        qosSustainInfos:

          type: array

          items:

            $ref: '#/components/schemas/QosSustainabilityInfo'

          minItems: 1

        ueComms:

          type: array

          items:

            $ref: '#/components/schemas/UeCommunication'

          minItems: 1

        ueMobs:

          type: array

          items:

            $ref: '#/components/schemas/UeMobility'

          minItems: 1

        userDataCongInfos:

          type: array

          items:

            $ref: '#/components/schemas/UserDataCongestionInfo'

          minItems: 1

        abnorBehavrs:

          type: array

          items:

            $ref: '#/components/schemas/AbnormalBehaviour'

          minItems: 1

        nwPerfs:

          type: array

          items:

            $ref: '#/components/schemas/NetworkPerfInfo'

          minItems: 1

      required:

        - event

    ServiceExperienceInfo:

      type: object

      properties:

        svcExprc:

          $ref:
'TS29517_Naf_EventExposure.yaml#/components/schemas/SvcExperience'

        svcExprcVariance:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Float'

        supis:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'

          minItems: 1

        snssai:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

        appId:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/ApplicationId'

        confidence:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

        dnn:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'

        networkArea:

          $ref:
'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo'

        nsiId:

          $ref:
'TS29531_Nnssf_NSSelection.yaml#/components/schemas/NsiId'

        ratio:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

      required:

        - svcExprc

    BwRequirement:

      type: object

      properties:

        appId:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/ApplicationId'

        marBwDl:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'

        marBwUl:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'

        mirBwDl:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'

        mirBwUl:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'

      required:

        - appId

    SliceLoadLevelInformation:

      type: object

      properties:

        loadLevelInformation:

          $ref: '#/components/schemas/LoadLevelInformation'

        snssais:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

          minItems: 1

          description: Identification(s) of network slice to which the
subscription applies.

      required:

        - loadLevelInformation

        - snssais

    NsiLoadLevelInfo:

      description: Represents the network slice and optionally the
associated network slice instance and the load level information.

      type: object

      properties:

        loadLevelInformation:

          $ref: '#/components/schemas/LoadLevelInformation'

        snssai:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

        nsiId:

          $ref:
'TS29531_Nnssf_NSSelection.yaml#/components/schemas/NsiId'

      required:

        - loadLevelInformation

        - snssai

    NsiIdInfo:

      description: Represents the S-NSSAI and the optionally associated
Network Slice Instance(s).

      type: object

      properties:

        snssai:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

        nsiIds:

          type: array

          items:

            $ref:
'TS29531_Nnssf_NSSelection.yaml#/components/schemas/NsiId'

          minItems: 1

      required:

        - snssai

    EventReportingRequirement:

      type: object

      properties:

        accuracy:

          $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/Accuracy'

        startTs:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        endTs:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        sampRatio:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

        maxObjectNbr:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

        maxSupiNbr:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

        timeAnaNeeded:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

    TargetUeInformation:

      type: object

      properties:

        anyUe:

          type: boolean

        supis:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'

          minItems: 1

        intGroupIds:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/GroupId'

          minItems: 1

    UeMobility:

      type: object

      properties:

        ts:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        recurringTime:

          $ref:
'TS29122_CpProvisioning.yaml#/components/schemas/ScheduledCommunicationTime'

        duration:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/DurationSec'

        durationVariance:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Float'

        locInfos:

          type: array

          items:

            $ref: '#/components/schemas/LocationInfo'

          minItems: 1

      allOf:

        - required: [duration]

        - required: [locInfos]

        - oneOf:

          - required: [ts]

          - required: [recurringTime]

    LocationInfo:

      type: object

      properties:

        loc:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/UserLocation'

        ratio:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

        confidence:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

      required:

        - loc

    UeCommunication:

      type: object

      properties:

        commDur:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/DurationSec'

        commDurVariance:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Float'

        perioTime:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/DurationSec'

        perioTimeVariance:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Float'

        ts:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        tsVariance:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Float'

        recurringTime:

          $ref:
'TS29122_CpProvisioning.yaml#/components/schemas/ScheduledCommunicationTime'

        trafChar:

          $ref: '#/components/schemas/TrafficCharacterization'

        ratio:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

        confidence:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

      allOf:

        - required: [commDur]

        - required: [trafChar]

        - oneOf:

          - required: [ts]

          - required: [recurringTime]

    TrafficCharacterization:

      type: object

      properties:

        dnn:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'

        snssai:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

        appId:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/ApplicationId'

        fDescs:

          type: array

          items:

            $ref: '#/components/schemas/IpEthFlowDescription'

          minItems: 1

          maxItems: 2

        ulVol:

          $ref: 'TS29122_CommonData.yaml#/components/schemas/Volume'

        ulVolVariance:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Float'

        dlVol:

          $ref: 'TS29122_CommonData.yaml#/components/schemas/Volume'

        dlVolVariance:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Float'

      anyOf:

        - required: [ulVol]

        - required: [dlVol]

    UserDataCongestionInfo:

      type: object

      properties:

        networkArea:

          $ref:
'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo'

        congestionInfo:

          $ref: '#/components/schemas/CongestionInfo'

        snssai:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

    CongestionInfo:

      type: object

      properties:

        congType:

          $ref: '#/components/schemas/CongestionType'

        timeIntev:

          $ref: 'TS29122_CommonData.yaml#/components/schemas/TimeWindow'

        nsi:

          $ref: '#/components/schemas/ThresholdLevel'

        confidence:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

      required:

        - congType

        - timeIntev

        - nsi

    QosSustainabilityInfo:

      type: object

      properties:

        areaInfo:

          $ref:
'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo'

        startTs:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        endTs:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        qosFlowRetThd:

          $ref: '#/components/schemas/RetainabilityThreshold'

        ranUeThrouThd:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'

        snssai:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

        confidence:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

      oneOf:

        - required: [qosFlowRetThd]

        - required: [ranUeThrouThd]

    QosRequirement:

      type: object

      properties:

        5qi:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/5Qi'

        gfbrUl:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'

        gfbrDl:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/BitRate'

        resType:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/QosResourceType'

        pdb:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/PacketDelBudget'

        per:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/PacketErrRate'

      oneOf:

        - required: [5qi]

        - required: [resType]

    ThresholdLevel:

      type: object

      properties:

        congLevel:

          type: integer

        nfLoadLevel:

          type: integer

        nfCpuUsage:

          type: integer

        nfMemoryUsage:

          type: integer

        nfStorageUsage:

          type: integer

    NfLoadLevelInformation:

      type: object

      properties:

        nfType:

          $ref:
'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType'

        nfInstanceId:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'

        nfSetId:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'

        nfStatus:

          $ref: '#/components/schemas/NfStatus'

        nfCpuUsage:

          type: integer

        nfMemoryUsage:

          type: integer

        nfStorageUsage:

          type: integer

        nfLoadLevelAverage:

          type: integer

        nfLoadLevelpeak:

          type: integer

        snssai:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

        confidence:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

      allOf:

        - required: [nfType]

        - required: [nfInstanceId]

        - anyOf:

          - required: [nfStatus]

          - required: [nfCpuUsage]

          - required: [nfMemoryUsage]

          - required: [nfStorageUsage]

          - required: [nfLoadLevelAverage]

          - required: [nfLoadLevelPeak]

    NfStatus:

      type: object

      properties:

        statusRegistered:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

        statusUnregistered:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

        statusUndiscoverable:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

      anyOf:

        - required: [statusRegistered]

        - required: [statusUnregistered]

        - required: [statusUndiscoverable]

    AnySlice:

      type: boolean

      description: FALSE represents not applicable for all slices. TRUE
represents applicable for all slices.

    LoadLevelInformation:

      type: integer

      description: Load level information of the network slice and the
optionally associated network slice instance.

    AbnormalBehaviour:

      type: object

      properties:

        supis:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Supi'

          minItems: 1

        excep:

          $ref: '#/components/schemas/Exception'

        dnn:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'

        snssai:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

        ratio:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

        confidence:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

        addtMeasInfo:

          $ref: '#/components/schemas/AdditionalMeasurement'

      required:

        - excep

    Exception:

      type: object

      properties:

        excepId:

          $ref: '#/components/schemas/ExceptionId'

        excepLevel:

          type: integer

        excepTrend:

          $ref: '#/components/schemas/ExceptionTrend'

      required:

        - excepId

    AdditionalMeasurement:

      type: object

      properties:

        unexpLoc:

          $ref:
'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo'

        unexpFlowTeps:

          type: array

          items:

            $ref: '#/components/schemas/IpEthFlowDescription'

          minItems: 1

        unexpWakes:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

          minItems: 1

        ddosAttack:

          $ref: '#/components/schemas/AddressList'

        wrgDest:

          $ref: '#/components/schemas/AddressList'

        circums:

          type: array

          items:

            $ref: '#/components/schemas/CircumstanceDescription'

          minItems: 1

    IpEthFlowDescription:

      type: object

      properties:

        ipTrafficFilter:

          $ref:
'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/FlowDescription'

        ethTrafficFilter:

          $ref:
'TS29514_Npcf_PolicyAuthorization.yaml#/components/schemas/EthFlowDescription'

      oneOf:

        - required: [ipTrafficFilter]

        - required: [ethTrafficFilter]

    AddressList:

      type: object

      properties:

        ipv4Addrs:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv4Addr'

          minItems: 1

        ipv6Addrs:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Ipv6Addr'

          minItems: 1

    CircumstanceDescription:

      type: object

      properties:

        freq:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Float'

        tm:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        locArea:

          $ref:
'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo'

        vol:

          $ref: 'TS29122_CommonData.yaml#/components/schemas/Volume'

    RetainabilityThreshold:

      type: object

      properties:

        relFlowNum:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

        relTimeUnit:

          $ref: '#/components/schemas/TimeUnit'

        relFlowRatio:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

      oneOf:

        - allOf:

          - required: [relFlowNum]

          - required: [relTimeUnit]

        - required: [relFlowRatio]

    NetworkPerfRequirement:

      type: object

      properties:

        nwPerfType:

          $ref: '#/components/schemas/NetworkPerfType'

        relativeRatio:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

        absoluteNum:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

      required:

        - nwPerfType

    NetworkPerfInfo:

      type: object

      properties:

        networkArea:

          $ref:
'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo'

        nwPerfType:

          $ref: '#/components/schemas/NetworkPerfType'

        relativeRatio:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SamplingRatio'

        absoluteNum:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

        confidence:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/Uinteger'

      allOf:

        - required: [networkArea]

        - required: [nwPerfType]

        - oneOf:

          - required: [relativeRatio]

          - required: [absoluteNum]

    FailureEventInfo:

      type: object

      properties:

        event:

          $ref: '#/components/schemas/NwdafEvent'

        failureCode:

          $ref: '#/components/schemas/NwdafFailureCode'

      required:

        - event

        - failureCode

    NotificationMethod:

      anyOf:

      - type: string

        enum:

          - PERIODIC

          - THRESHOLD

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

        - PERIODIC: The subscribe of NWDAF Event is periodically. The
periodic of the notification is identified by repetitionPeriod defined
in subclause 5.1.6.2.3.

        - THRESHOLD: The subscribe of NWDAF Event is upon threshold
exceeded. The threshold of the notification is identified by
loadLevelThreshold defined in subclause 5.1.6.2.3.

    NwdafEvent:

      anyOf:

      - type: string

        enum:

          - SLICE_LOAD_LEVEL

          - NETWORK_PERFORMANCE

          - NF_LOAD

          - SERVICE_EXPERIENCE

          - UE_MOBILITY

          - UE_COMMUNICATION

          - QOS_SUSTAINABILITY

          - ABNORMAL_BEHAVIOUR

          - USER_DATA_CONGESTION

          - NSI_LOAD_LEVEL

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

        - SLICE_LOAD_LEVEL: Indicates that the event subscribed is load
level information of Network Slice

        - NETWORK_PERFORMANCE: Indicates that the event subscribed is
network performance information.

        - NF_LOAD: Indicates that the event subscribed is load level and
status of one or several Network Functions.

        - SERVICE_EXPERIENCE: Indicates that the event subscribed is
service experience.

        - UE_MOBILITY: Indicates that the event subscribed is UE
mobility information.

        - UE_COMMUNICATION: Indicates that the event subscribed is UE
communication information.

        - QOS_SUSTAINABILITY: Indicates that the event subscribed is QoS
sustainability.

        - ABNORMAL_BEHAVIOUR: Indicates that the event subscribed is
abnormal behaviour.

        - USER_DATA_CONGESTION: Indicates that the event subscribed is
user data congestion information.

        - NSI_LOAD_LEVEL: Indicates that the event subscribed is load
level information of Network Slice and the optionally associated Network
Slice Instance

    Accuracy:

      anyOf:

      - type: string

        enum:

          - LOW

          - HIGH

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

        - LOW: Low accuracy.

        - HIGH: High accuracy.

    CongestionType:

      anyOf:

      - type: string

        enum:

          - USER_PLANE

          - CONTROL_PLANE

          - USER_AND_CONTROL_PLANE

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

        - USER_PLANE: The congestion analytics type is User Plane.

        - CONTROL_PLANE: The congestion analytics type is Control Plane.

        - USER_AND_CONTROL_PLANE: The congestion analytics type is User
Plane and Control Plane.

    ExceptionId:

      anyOf:

      - type: string

        enum:

          - UNEXPECTED_UE_LOCATION

          - UNEXPECTED_LONG_LIVE_FLOW

          - UNEXPECTED_LARGE_RATE_FLOW

          - UNEXPECTED_WAKEUP

          - SUSPICION_OF_DDOS_ATTACK

          - WRONG_DESTINATION_ADDRESS

          - TOO_FREQUENT_SERVICE_ACCESS

          - UNEXPECTED_RADIO_LINK_FAILURES

          - PING_PONG_ACROSS_CELLS

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

          - UNEXPECTED_UE_LOCATION: Unexpected UE location

          - UNEXPECTED_LONG_LIVE_FLOW: Unexpected long-live rate flows

          - UNEXPECTED_LARGE_RATE_FLOW: Unexpected large rate flows

          - UNEXPECTED_WAKEUP: Unexpected wakeup

          - SUSPICION_OF_DDOS_ATTACK: Suspicion of DDoS attack

          - WRONG_DESTINATION_ADDRESS: Wrong destination address

          - TOO_FREQUENT_SERVICE_ACCESS: Too frequent Service Access

          - UNEXPECTED_RADIO_LINK_FAILURES: Unexpected radio link
failures

          - PING_PONG_ACROSS_CELLS: Ping-ponging across neighbouring
cells

    ExceptionTrend:

      anyOf:

      - type: string

        enum:

          - UP

          - DOWN

          - UNKNOW

          - STABLE

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

          - UP: Up trend of the exception level.

          - DOWN: Down trend of the exception level.

          - UNKNOW: Unknown trend of the exception level.

          - STABLE: Stable trend of the exception level.

    TimeUnit:

      anyOf:

      - type: string

        enum:

          - MINUTE

          - HOUR

          - DAY

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

        - MINUTE: Time unit is per minute.

        - HOUR: Time unit is per hour.

        - DAY: Time unit is per day.

    NetworkPerfType:

      anyOf:

      - type: string

        enum:

          - GNB_ACTIVE_RATIO

          - GNB_COMPUTING_USAGE

          - GNB_MEMORY_USAGE

          - GNB_DISK_USAGE

          - NUM_OF_UE

          - SESS_SUCC_RATIO

          - HO_SUCC_RATIO

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

          - GNB_ACTIVE_RATIO: Indicates that the network performance
requirement is gNodeB active (i.e. up and running) rate. Indicates the
ratio of gNB active (i.e. up and running) number to the total number of
gNB

          - GNB_COMPUTING_USAGE: Indicates gNodeB computing resource
usage.

          - GNB_MEMORY_USAGE: Indicates gNodeB memory usage.

          - GNB_DISK_USAGE: Indicates gNodeB disk usage.

          - NUM_OF_UE: Indicates number of UEs.

          - SESS_SUCC_RATIO: Indicates ratio of successful setup of PDU
sessions to total PDU session setup attempts.

          - SESS_SUCC_RATIO: Indicates Ratio of successful handovers to
the total handover attempts.

    ExpectedAnalyticsType:

      anyOf:

      - type: string

        enum:

          - MOBILITY

          - COMMUN

          - MOBILITY_AND_COMMUN

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

          - MOBILITY: Mobility related abnormal behaviour analytics is
expected by the consumer.

          - COMMUN: Communication related abnormal behaviour analytics
is expected by the consumer.

          - MOBILITY_AND_COMMUN: Both mobility and communication related
abnormal behaviour analytics is expected by the consumer.

    MatchingDirection:

      anyOf:

      - type: string

        enum:

          - ASCENDING

          - DESCENDING

          - CROSSED

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

          - ASCENDING: Threshold is crossed in ascending direction.

          - DESCENDING: Threshold is crossed in descending direction.

          - CROSSED: Threshold is crossed either in ascending or
descending direction.

    NwdafFailureCode:

      anyOf:

      - type: string

        enum:

          - UNAVAILABLE_DATA

          - BOTH_STAT_PRED_NOT_ALLOWED

          - OTHER

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

          - UNAVAILABLE_DATA: Indicates the requested statistics
information for the event is rejected since necessary data to perform
the service is unavailable.

          - BOTH_STAT_PRED_NOT_ALLOWED: Indicates the requested analysis
information for the event is rejected since the start time is in the
past and the end time is in the future, which means the NF service
consumer requested both statistics and prediction for the analytics.

          - OTHER: Indicates the requested analysis information for the
event is rejected due to other reasons.

.. container::

   .. rubric:: A.3      Nnwdaf_AnalyticsInfo API
      :name: a.3-nnwdaf_analyticsinfo-api

openapi: 3.0.0

info:

  version: 1.1.5

  title: Nnwdaf_AnalyticsInfo

  description: \|

    Nnwdaf_AnalyticsInfo Service API. 

    © 2022, 3GPP Organizational Partners (ARIB, ATIS, CCSA, ETSI, TSDSI,
TTA, TTC). 

    All rights reserved.

externalDocs:

  description: 3GPP TS 29.520 V16.12.0; 5G System; Network Data
Analytics Services.

  url: 'https://www.3gpp.org/ftp/Specs/archive/29_series/29.520/'

security:

  - {}

  - oAuth2ClientCredentials:

    - nnwdaf-analyticsinfo

servers:

  - url: '{apiRoot}/nnwdaf-analyticsinfo/v1'

    variables:

      apiRoot:

        default: https://example.com

        description: apiRoot as defined in subclause 4.4 of 3GPP TS
29.501.

paths:

  /analytics:

    get:

      summary: Read a NWDAF Analytics

      operationId: GetNWDAFAnalytics

      tags:

        - NWDAF Analytics (Document)

      parameters:

        - name: event-id

          in: query

          description: Identify the analytics.

          required: true

          schema:

            $ref: '#/components/schemas/EventId'

        - name: ana-req

          in: query

          description: Identifies the analytics reporting requirement
information.

          required: false

          content:

            application/json:

              schema:

                $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/EventReportingRequirement'

        - name: event-filter

          in: query

          description: Identify the analytics.

          required: false

          content:

            application/json:

              schema:

                $ref: '#/components/schemas/EventFilter'

        - name: supported-features

          in: query

          description: To filter irrelevant responses related to
unsupported features

          schema:

            $ref:
'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'

        - name: tgt-ue

          in: query

          description: Identify the target UE information.

          required: false

          content:

            application/json:

              schema:

                $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/TargetUeInformation'

      responses:

        '200':

          description: Containing the analytics with parameters as
relevant for the requesting NF service consumer.

          content:

            application/json:

              schema:

                $ref: '#/components/schemas/AnalyticsData'

        '204':

          description: No Content (The request NWDAF Analytics data does
not exist)

        '400':

          $ref: 'TS29571_CommonData.yaml#/components/responses/400'

        '401':

          $ref: 'TS29571_CommonData.yaml#/components/responses/401'

        '403':

          $ref: 'TS29571_CommonData.yaml#/components/responses/403'

        '404':

          description: Indicates that the NWDAF Analytics resource does
not exist.

          content:

            application/problem+json:

              schema:

                $ref:
'TS29571_CommonData.yaml#/components/schemas/ProblemDetails'

        '406':

          $ref: 'TS29571_CommonData.yaml#/components/responses/406'

        '414':

          $ref: 'TS29571_CommonData.yaml#/components/responses/414'

        '429':

          $ref: 'TS29571_CommonData.yaml#/components/responses/429'

        '500':

          $ref: 'TS29571_CommonData.yaml#/components/responses/500'

        '503':

          $ref: 'TS29571_CommonData.yaml#/components/responses/503'

        default:

          $ref: 'TS29571_CommonData.yaml#/components/responses/default'

components:

  securitySchemes:

    oAuth2ClientCredentials:

      type: oauth2

      flows:

        clientCredentials:

          tokenUrl: '{nrfApiRoot}/oauth2/token'

          scopes:

            nnwdaf-analyticsinfo: Access to the Nnwdaf_AnalyticsInfo API

  schemas:

    AnalyticsData:

      type: object

      properties:

        expiry:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        timeStampGen:

          $ref: 'TS29571_CommonData.yaml#/components/schemas/DateTime'

        sliceLoadLevelInfos:

          type: array

          items:

            $ref:
'TS29520\_Nnwdaf_EventsSubscription.yaml#/components/schemas/SliceLoadLevelInformation'

          minItems: 1

          description: The slices and their load level information.

        nsiLoadLevelInfos:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NsiLoadLevelInfo'

          minItems: 1

        nfLoadLevelInfos:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NfLoadLevelInformation'

          minItems: 1

        nwPerfs:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NetworkPerfInfo'

          minItems: 1

        svcExps:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ServiceExperienceInfo'

          minItems: 1

        qosSustainInfos:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/QosSustainabilityInfo'

          minItems: 1

        ueMobs:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/UeMobility'

          minItems: 1

        ueComms:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/UeCommunication'

          minItems: 1

        userDataCongInfos:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/UserDataCongestionInfo'

          minItems: 1

        abnorBehavrs:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/AbnormalBehaviour'

          minItems: 1

        suppFeat:

          $ref:
'TS29571_CommonData.yaml#/components/schemas/SupportedFeatures'

    EventFilter:

      description: Represents the event filters used to identify the
requested analytics.

      type: object

      properties:

        anySlice:

          $ref:
'TS29520\_Nnwdaf_EventsSubscription.yaml#/components/schemas/AnySlice'

        snssais:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Snssai'

          minItems: 1

          description: Identification(s) of network slice.

        appIds:

          type: array

          items:

            $ref:
'TS29571_CommonData.yaml#/components/schemas/ApplicationId'

          minItems: 1

        dnns:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Dnn'

          minItems: 1

        dnais:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/Dnai'

          minItems: 1

        networkArea:

          $ref:
'TS29554_Npcf_BDTPolicyControl.yaml#/components/schemas/NetworkAreaInfo'

        nfInstanceIds:

          type: array

          items:

            $ref:
'TS29571_CommonData.yaml#/components/schemas/NfInstanceId'

          minItems: 1

        nfSetIds:

          type: array

          items:

            $ref: 'TS29571_CommonData.yaml#/components/schemas/NfSetId'

          minItems: 1

        nfTypes:

          type: array

          items:

            $ref:
'TS29510_Nnrf_NFManagement.yaml#/components/schemas/NFType'

          minItems: 1

        nsiIdInfos:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NsiIdInfo'

          minItems: 1

        qosRequ:

          $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/QosRequirement'

        nwPerfTypes:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/NetworkPerfType'

          minItems: 1

        bwRequs:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/BwRequirement'

          minItems: 1

        excepIds:

          type: array

          items:

            $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ExceptionId'

          minItems: 1

        exptAnaType:

          $ref:
'TS29520_Nnwdaf_EventsSubscription.yaml#/components/schemas/ExpectedAnalyticsType'

        exptUeBehav:

          $ref:
'TS29503_Nudm_SDM.yaml#/components/schemas/ExpectedUeBehaviourData'

      not:

        required: [anySlice, snssais]

    EventId:

      anyOf:

      - type: string

        enum:

          - LOAD_LEVEL_INFORMATION

          - NETWORK_PERFORMANCE

          - NF_LOAD

          - SERVICE_EXPERIENCE

          - UE_MOBILITY

          - UE_COMMUNICATION

          - QOS_SUSTAINABILITY

          - ABNORMAL_BEHAVIOUR

          - USER_DATA_CONGESTION

          - NSI_LOAD_LEVEL

      - type: string

        description: >

          This string provides forward-compatibility with future

          extensions to the enumeration but is not used to encode

          content defined in the present version of this API.

      description: >

        Possible values are

        - LOAD_LEVEL_INFORMATION: Represent the analytics of load level
information of corresponding network slice.

        - NETWORK_PERFORMANCE: Represent the analytics of network
performance information.

        - NF_LOAD: Indicates that the event subscribed is NF Load.

        - SERVICE_EXPERIENCE: Represent the analytics of service
experience information of the specific applications.

        - UE_MOBILITY: Represent the analytics of UE mobility.

        - UE_COMMUNICATION: Represent the analytics of UE communication.

        - QOS_SUSTAINABILITY: Represent the analytics of QoS
sustainability information in the certain area.

        - ABNORMAL_BEHAVIOUR: Indicates that the event subscribed is
abnormal behaviour information.

        - USER_DATA_CONGESTION: Represent the analytics of the user data
congestion in the certain area.

        - NSI_LOAD_LEVEL: Represent the analytics of Network Slice and
the optionally associated Network Slice Instance.

.. container::

   Annex B (informative):
   Change history

**Change history**

**Date**

**TSG #**

**TSG Doc.**

**CR**

**Rev**

**Cat**

**Subject/Comment**

**New**

2017-10

 

 

 

 

 

TS skeleton of Network Data Analytics Services.

0.0.0

2017-11

CT3#92

 

 

 

 

Inclusion of documents agreed in CT3#92 C3-175356.

0.1.0

2017-12

CT3#93

 

 

 

 

Inclusion of documents agreed in CT3#93 C3-176166, C3-176260, C3-176324,
C3-176325, C3-176326, and C3-176327.

0.2.0

2018-01

CT3#94

 

 

 

 

Inclusion of documents agreed in CT3#94 C3-180252, C3-180253, C3-180254,
C3-180255, C3-180256, C3-180257, C3-180344, C3-180345, C3-180346,
C3-180323 and C3-180347.

0.3.0

2018-03

CT3#95

 

 

 

 

Inclusion of documents agreed in CT3#95 C3-181253, C3-181255, C3-181256,
C3-181257, C3-181260, C3-181312, C3-181342 and C3-181343.

0.4.0

2018-03

CT3#96

 

 

 

 

Inclusion of documents agreed in CT3#96 C3-182379 and C3-182380.

0.5.0

2018-05

CT3#97

 

 

 

 

Inclusion of documents agreed in CT3#97 C3-183285, C3-183532, C3-183533,
C3-183534 and C3-183535.

0.6.0

2018-06

CT#80

CP-181032

 

 

 

TS sent to plenary for approval

1.0.0

2018-06

CT#80

CP-181032

 

 

 

TS approved by plenary

15.0.0

2018-09

CT#81

CP-182015

0001

3

F

Clarification on mandatory HTTP error status codes

15.1.0

2018-09

CT#81

CP-182209

0002

4

B

OpenAPI for TS 29.520

15.1.0

2018-09

CT#81

CP-182015

0003

1

F

Description of Structured data types

15.1.0

2018-09

CT#81

CP-182015

0004

1

F

Resource structure presentation

15.1.0

2018-12

CT#82

CP-183205

0006

 

F

Default value for apiRoot

15.2.0

2018-12

CT#82

CP-183205

0007

2

F

Correct Nnwdaf service

15.2.0

2018-12

CT#82

CP-183205

0008

1

F

Cardinality

15.2.0

2018-12

CT#82

CP-183205

0009

 

F

API version

15.2.0

2018-12

CT#82

CP-183205

0010

 

F

ExternalDocs OpenAPI field

15.2.0

2018-12

CT#82

CP-183205

0011

1

F

Security

15.2.0

2018-12

CT#82

CP-183205

0012

1

F

Supported content types

15.2.0

2018-12

CT#82

CP-183205

0013

2

F

HTTP Error responses

15.2.0

2018-12

CT#82

CP-183205

0014

2

F

Correct NWDAF resource

15.2.0

2018-12

CT#82

CP-183205

0016

1

F

Adding HTTP status code "204 No Content"

15.2.0

2018-12

CT#82

CP-183205

0019

 

F

Location header field in OpenAPI

15.2.0

2019-03

CT#83

CP-190113

0020

 

F

Support of NSSF as the service consumer

15.3.0

2019-03

CT#83

CP-190113

0021

1

F

Formatting of structured data types in query

15.3.0

2019-03

CT#83

CP-190113

0022

 

F

OpenAPI info version update

15.3.0

2019-03

CT#83

CP-190213

0023

1

F

Correction of Location header in Nnwdaf_EventsSubscription OPenAPI

15.3.0

2019-06

CT#84

CP-191078

24

1

F

Correction of Nnwdaf_EventsSubscription OpenAPI

15.4.0

2019-06

CT#84

CP-191078

29

7

F

Corrections on TS 29.520

15.4.0

2019-06

CT#84

CP-191078

35

1

F

Precedence of OpenAPI file

15.4.0

2019-06

CT#84

CP-191078

37

1

F

Copyright Note in YAML files

15.4.0

2019-06

CT#84

CP-191090

25

1

B

Reference update and service representation

16.0.0

2019-06

CT#84

CP-191090

27

3

B

Support of more consumers

16.0.0

2019-06

CT#84

CP-191090

28

1

B

Support of more analytic events

16.0.0

2019-06

CT#84

CP-191225

31

9

B

Subscribing of service experience for the application

16.0.0

2019-06

CT#84

CP-191090

33

2

B

Delete the subscription of service experience for the application

16.0.0

2019-06

CT#84

CP-191090

34

5

B

Notification of service experience for the application

16.0.0

2019-06

CT#84

CP-191090

39

2

F

Copyright Note in YAML files

16.0.0

2019-09

CT#85

CP-192146

0041

2

F

Correct cardinality in NnwdafEventsSubscription

16.1.0

2019-09

CT#85

CP-192157

0042

4

B

UE mobility and communication analytics

16.1.0

2019-09

CT#85

CP-192157

0043

2

B

Support of network performance analytics in Nnwdaf_AnalyticsInfo_Request

16.1.0

2019-09

CT#85

CP-192157

0047

1

B

OAM as service consumer

16.1.0

2019-09

CT#85

CP-192157

0048

1

B

Update Nnwdaf_EventSubscription service for service experience

16.1.0

2019-09

CT#85

CP-192261

0049

1

B

Enhance the Nnwdaf_AnalyticsInfo service to support service experience

16.1.0

2019-09

CT#85

CP-192177

0050

2

B

Enhance the Nnwdaf_EventsSubscription service to support QoS
sustainability

16.1.0

2019-09

CT#85

CP-192177

0051

2

B

Enhance the Nnwdaf_AnalyticsInfo service to support QoS sustainability

16.1.0

2019-09

CT#85

CP-192173

0054

2

F

OpenAPI version update TS 29.520 Rel-16

16.1.0

2019-12

CT#86

CP-193198

0055

3

B

Abnormal behaviour analytics

16.2.0

2019-12

CT#86

CP-193198

0056

4

B

Enhance the Nnwdaf_EventsSubscription service to support User Data
Congestion

16.2.0

2019-12

CT#86

CP-193198

0057

2

B

Enhance the Nnwdaf_AnalyticsInfo service to support user data congestion

16.2.0

2019-12

CT#86

CP-193198

0058

1

B

Definination of QoS sustainability information

16.2.0

2019-12

CT#86

CP-193198

0059

4

B

Inclusion of QoS requirements and thresholds for QoS Sustainability

16.2.0

2019-12

CT#86

CP-193198

0062

2

F

Clarify references to QoS sustainability analytics

16.2.0

2019-12

CT#86

CP-193198

0063

2

F

Clarifications on NWDAF generalities

16.2.0

2019-12

CT#86

CP-193267

0102

3

B

OpenAPI file Update for Nnwdaf_EventsSubscription API

16.2.0

2019-12

CT#86

CP-193198

0103

 

B

OpenAPI file Update for Nnwdaf_AnalyticsInfo API

16.2.0

2019-12

CT#86

CP-193198

0104

1

B

Slice identification for all analytics types

16.2.0

2019-12

CT#86

CP-193234

0106

2

B

NF Load analytics generalities

16.2.0

2019-12

CT#86

CP-193212

0107

1

F

Update of API version and TS version in OpenAPI file

16.2.0

2020-03

CT#87e

CP-200208

0109

1

B

Definition of QoS Requirement

16.3.0

2020-03

CT#87e

CP-200208

0110

1

B

Description of consumer functionalities

16.3.0

2020-03

CT#87e

CP-200208

0111

1

B

Update the types of analytics events

16.3.0

2020-03

CT#87e

CP-200207

0114

 

B

DNN Clarification

16.3.0

2020-03

CT#87e

CP-200208

0115

1

F

Update Feature applicability for Rel-16 new data types

16.3.0

2020-03

CT#87e

CP-200208

0118

2

D

Corrections in TS29.520

16.3.0

2020-03

CT#87e

CP-200208

0120

1

F

Clarify start time and end time

16.3.0

2020-03

CT#87e

CP-200182

0121

2

F

Correct QoS sustainability

16.3.0

2020-03

CT#87e

CP-200232

0122

1

F

Correct UE mobility and communication

16.3.0

2020-03

CT#87e

CP-200208

0123

1

B

Support network performance analytics

16.3.0

2020-03

CT#87e

CP-200208

0124

1

F

Correcting QoS sustainability information

16.3.0

2020-03

CT#87e

CP-200214

0125

 

F

OpenAPI: usage of the "tags" keyword

16.3.0

2020-03

CT#87e

CP-200208

0126

1

F

Corrections on resource name

16.3.0

2020-03

CT#87e

CP-200208

0127

1

F

Data used for area of interest

16.3.0

2020-03

CT#87e

CP-200208

0128

1

F

Any UE possibility for UE mobility and UE communication

16.3.0

2020-03

CT#87e

CP-200208

0129

1

B

Nnwdaf_EventsSubscription API, Support of Service experience

16.3.0

2020-03

CT#87e

CP-200208

0130

1

B

Nnwdaf_EventsSubscription API, Support of Service experience

16.3.0

2020-03

CT#87e

CP-200236

0131

2

B

Nnwdaf_EventsSubscription API, Support of abnormal behaviour

16.3.0

2020-03

CT#87e

CP-200224

0132

1

B

Nnwdaf_AnalyticsInfo API, Support of abnormal behaviour

16.3.0

2020-03

CT#87e

CP-200228

0136

2

B

Support of NF Load analytics

16.3.0

2020-03

CT#87e

CP-200216

0140

 

F

Update of OpenAPI version and TS version in externalDocs field

16.3.0

2020-06

CT#88e

CP-201234

0142

1

F

Condition description for threshold related attributes

16.4.0

2020-06

CT#88e

CP-201234

0143

1

F

Some corrections to Nnwdaf_AnalyticsInfo Service

16.4.0

2020-06

CT#88e

CP-201234

0144

1

F

Clarification on applicability for network slice information

16.4.0

2020-06

CT#88e

CP-201234

0145

1

F

Analyticis result per DNN

16.4.0

2020-06

CT#88e

CP-201234

0146

3

F

Maximum number of SUPIs

16.4.0

2020-06

CT#88e

CP-201234

0147

1

F

Correction on FlowDescription

16.4.0

2020-06

CT#88e

CP-201234

0149

3

F

Support of Abnormal Behaviour

16.4.0

2020-06

CT#88e

CP-201234

0150

2

F

Confidence for User Data Congestion Information.

16.4.0

2020-06

CT#88e

CP-201234

0151

1

F

Data types used for NWDAF services

16.4.0

2020-06

CT#88e

CP-201234

0153

2

F

Adding maxObjectNbr attribute in related feature of NWDAF analytics
service

16.4.0

2020-06

CT#88e

CP-201234

0154

1

F

Adding UDM as consumer of services provided by NWDAF

16.4.0

2020-06

CT#88e

CP-201234

0155

 

F

Corrections on descriptions of NF service consumers offered by NWDAF

16.4.0

2020-06

CT#88e

CP-201234

0157

1

D

Updates to Abbreviations

16.4.0

2020-06

CT#88e

CP-201234

0158

2

B

Support NSI ID

16.4.0

2020-06

CT#88e

CP-201234

0163

3

B

Support Service Experience Variance

16.4.0

2020-06

CT#88e

CP-201234

0165

1

F

Correction to Service Description

16.4.0

2020-06

CT#88e

CP-201234

0166

1

F

Correction to description of consumer functionalities

16.4.0

2020-06

CT#88e

CP-201234

0167

1

F

Correction to variance of Start time in UE Communication

16.4.0

2020-06

CT#88e

CP-201234

0169

1

B

Correct supported feature in AnalyticsData

16.4.0

2020-06

CT#88e

CP-201234

0170

1

F

Clarify service experience data

16.4.0

2020-06

CT#88e

CP-201234

0171

 

F

Correct threshold

16.4.0

2020-06

CT#88e

CP-201234

0172

1

F

Resource type in QoS requirement

16.4.0

2020-06

CT#88e

CP-201244

0173

1

F

Storage of YAML files in ETSI Forge

16.4.0

2020-06

CT#88e

CP-201234

0176

2

F

Analytics result per S-NSSAI

16.4.0

2020-06

CT#88e

CP-201234

0177

1

F

Corrections on confidence for other NWDAF events

16.4.0

2020-06

CT#88e

CP-201256

0179

1

F

URI of the Nnwdaf services

16.4.0

2020-06

CT#88e

CP-201234

0180

1

F

Default value for matching direction

16.4.0

2020-06

CT#88e

CP-201234

0181

 

F

Support of immediate reporting

16.4.0

2020-06

CT#88e

CP-201244

0182

1

F

Optionality of ProblemDetails

16.4.0

2020-06

CT#88e

CP-201234

0183

1

F

Correction to abnormal traffic volume

16.4.0

2020-06

CT#88e

CP-201234

0186

2

F

Corrections on ratio of UEs in NWDAF event reports

16.4.0

2020-06

CT#88e

CP-201234

0187

1

F

Corrections to TargetUeInformation

16.4.0

2020-06

CT#88e

CP-201234

0188

 

F

Corrections on AbnormalBehaviour

16.4.0

2020-06

CT#88e

CP-201234

0189

 

F

Plural of NF load level information related attribute

16.4.0

2020-06

CT#88e

CP-201234

0190

1

F

locInfo attribute within the UeMobility data

16.4.0

2020-06

CT#88e

CP-201234

0191

 

F

Corrections on NfLoadLevelInformation

16.4.0

2020-06

CT#88e

CP-201244

0192

1

F

Supported headers, Resource Data type, Operation Name and yaml mapping

16.4.0

2020-06

CT#88e

CP-201255

0193

 

F

Update of OpenAPI version and TS version in externalDocs field

16.4.0

2020-09

CT#89e

CP-202066

0196

1

F

Description for NWDAF services

16.5.0

2020-09

CT#89e

CP-202066

0197

1

F

Zero confidence

16.5.0

2020-09

CT#89e

CP-202066

0199

 

F

Correct QoS sustainability requirement

16.5.0

2020-09

CT#89e

CP-202066

0200

 

F

Validity period for analytics information

16.5.0

2020-09

CT#89e

CP-202066

0201

1

F

Timestamp of analytics generation

16.5.0

2020-09

CT#89e

CP-202066

0202

 

F

Notification about subscribed event

16.5.0

2020-09

CT#89e

CP-202066

0204

1

F

Omitted event reporting information

16.5.0

2020-09

CT#89e

CP-202066

0205

 

F

Optional network slice identification

16.5.0

2020-09

CT#89e

CP-202066

0206

 

F

Slice load level information

16.5.0

2020-09

CT#89e

CP-202066

0207

1

F

Matching direction

16.5.0

2020-09

CT#89e

CP-202066

0208

 

F

Time when analytics information is needed

16.5.0

2020-09

CT#89e

CP-202066

0209

1

F

Confidence for UE mobility

16.5.0

2020-09

CT#89e

CP-202066

0210

 

F

Supported feature in Nnwdaf_AnalyticsInfo API

16.5.0

2020-09

CT#89e

CP-202066

0211

 

F

Target UE identification

16.5.0

2020-09

CT#89e

CP-202066

0212

 

F

Correction on NetworkPerfType

16.5.0

2020-09

CT#89e

CP-202066

0214

 

F

Corrections on appIds and dnns

16.5.0

2020-09

CT#89e

CP-202066

0215

1

F

Corrections to networkArea with anyUE

16.5.0

2020-09

CT#89e

CP-202066

0216

1

F

Corrections to abnormal behaviour for any UE

16.5.0

2020-09

CT#89e

CP-202054

0218

 

A

ResourceURI correction during subscription update

16.5.0

2020-09

CT#89e

CP-202084

0221

1

F

Update of OpenAPI version and TS version in externalDocs field

16.5.0

2020-12

CT#90e

 

 

 

 

Missing OpenAPI files added

16.5.1

2020-12

CT#90e

CP-203139

0222

1

F

Essential corrections and alignments

16.6.0

2020-12

CT#90e

CP-203117

0225

1

A

Correction to notificationURI attribute

16.6.0

2020-12

CT#90e

CP-203129

0227

 

F

Mapping of expected analytics types and exception Ids

16.6.0

2020-12

CT#90e

CP-203129

0229

1

F

Analytics report correction

16.6.0

2020-12

CT#90e

CP-203129

0231

1

F

Error response for statistics request

16.6.0

2020-12

CT#90e

CP-203129

0233

 

F

S-NSSAI applicability

16.6.0

2020-12

CT#90e

CP-203129

0235

1

F

Revomal of Service Experience feature for nsiLevelThrds attribute

16.6.0

2020-12

CT#90e

CP-203129

0237

1

F

Correction to supis of Service Experience Analytics

16.6.0

2020-12

CT#90e

CP-203155

0239

1

F

Updates CEF as NWDAF consumer of Nnwdaf_EventsSubscription service

16.6.0

2020-12

CT#90e

CP-203129

0243

1

F

Corrections to Threshold

16.6.0

2020-12

CT#90e

CP-203152

0245

 

F

Update of OpenAPI version and TS version in externalDocs field

16.6.0

2021-03

CT#91e

CP-210191

0247

1

F

Support of stateless NFs

16.7.0

2021-03

CT#91e

CP-210217

0249

 

F

Storage of YAML files in ETSI Forge

16.7.0

2021-03

CT#91e

CP-210206

0252

1

F

Correction to S-NSSAI applicability

16.7.0

2021-03

CT#91e

CP-210206

0254

1

F

Adding network slice instance load level information

16.7.0

2021-03

CT#91e

CP-210206

0260

 

F

Any Slice applicability

16.7.0

2021-03

CT#91e

CP-210206

0262

1

F

Partial failure during event subscription

16.7.0

2021-03

CT#91e

CP-210206

0264

 

F

Supported feature

16.7.0

2021-03

CT#91e

CP-210239

0266

 

F

Update of OpenAPI version and TS version in externalDocs field

16.7.0

2021-06

CT#92e

CP-211220

0268

3

F

Adding missing description for partial failure operation

16.8.0

2021-06

CT#92e

CP-211206

0277

1

A

Correction on 404 Not Found

16.8.0

2021-06

CT#92e

CP-211220

0279

 

F

Missing attributes in subscription procedure

16.8.0

2021-06

CT#92e

CP-211220

0281

1

F

Correction on the value of confidence

16.8.0

2021-06

CT#92e

CP-211206

0284

1

A

Correction to Load Level Information

16.8.0

2021-06

CT#92e

CP-211220

0286

1

F

Correction to NSI Load Level Information

16.8.0

2021-06

CT#92e

CP-211200

0296

1

F

Redirect responses with "application/json" media type

16.8.0

2021-06

CT#92e

CP-211264

0304

 

F

Update of OpenAPI version and TS version in externalDocs field

16.8.0

2021-09

CT#93e

CP-212202

0316

 

F

Removal of NSI ID from PCF as consumer of NWDAF

16.9.0

2021-09

CT#93e

CP-212222

0319

 

F

Update of OpenAPI version and TS version in externalDocs field

16.9.0

2021-12

CT#94e

CP-213226

0343

 

F

Remove QoS sustainability as analytics for PCF

16.10.0

2022-03

CT#95e

CP-220173

0408

1

F

Correction of the description of end time

16.11.0

2022-03

CT#95e

CP-220176

0416

1

F

Alignment of "Application Errors" clauses with SBI TS template

16.11.0

2022-03

CT#95e

CP-220177

0425

 

F

Update of info and externalDocs fields

16.11.0

2022-06

CT#96

CP-221128

0475

 

F

Removing UDM from the list of service consumers for Analytics
Subscriptions

16.12.0

2022-06

CT#96

CP-221128

0477

 

F

Removing UDM from the list of service consumers for Analytics
Information

16.12.0

2022-06

CT#96

CP-221128

0508

 

F

Presence condition on data types of UE related analytics

16.12.0

2022-06

CT#96

CP-221128

0511

 

F

Presence condition on Network Performance and Flow Description data
types

16.12.0

2022-06

CT#96

CP-221128

0513

1

F

Presence condition on NF load data types

16.12.0

2022-06

CT#96

CP-221128

0515

 

F

Presence condition on QoS Sustainability data types

16.12.0

2022-06

CT#96

CP-221128

0527

1

F

Correction to Threshold value in QosSustainabilityInfo

16.12.0

2022-06

CT#96

CP-221128

0529

 

F

Correction to time period in CongestionInfo

16.12.0

2022-06

CT#96

CP-221119

0535

1

A

Correction to the re-used data types for the re-using
Nnwdaf_AnalyticsInfo API

16.12.0

2022-06

CT#96

CP-221150

0539

 

F

Update of the info and externalDocs field

16.12.0

 
